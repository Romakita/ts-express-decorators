<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OIDC | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link canonical="https://tsed.io">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="apple-touch-icon">
    <link rel="icon" href="/apple-touch-icon.png" type="image/x-icon" sizes="180x180">
    <link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="description" content="Use Oidc-provider with Express.js/Koa.js, TypeScript and Ts.ED. oidc-provider is an OAuth 2.0 Authorization Server with OpenID Connect and many additional features and standards implemented.">
    <meta name="keywords" content="ts.ed express koa oidc typescript node.js javascript decorators">
    <meta property="og:url" content="https://tsed.io">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.">
    <meta property="og:title" content="Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.">
    <meta property="og:description" content="A Node.js and TypeScript Framework on top of Express/Koa.js. It provides a lot of decorators and guidelines to write your code.">
    <meta property="og:image" content="https://tsed.io/tsed-og.png">
    <meta property="og:image:width" content="1024">
    <meta property="og:image:height" content="1024">
    <meta name="twitter:title" content="Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js.">
    <meta name="twitter:description" content="A Node.js and TypeScript Framework on top of Express/Koa.js. It provides a lot of decorators and guidelines to write your code.">
    <meta name="twitter:card" content="summary">
    
    <link rel="preload" href="/assets/css/0.styles.427b68cb.css" as="style"><link rel="preload" href="/assets/js/app.f8b85689.js" as="script"><link rel="preload" href="/assets/js/4.1643dd8a.js" as="script"><link rel="preload" href="/assets/js/14.cb360b7c.js" as="script"><link rel="prefetch" href="/assets/js/10.b3f263d7.js"><link rel="prefetch" href="/assets/js/100.b4e88da3.js"><link rel="prefetch" href="/assets/js/101.7adcbb1b.js"><link rel="prefetch" href="/assets/js/102.ca6fe6cd.js"><link rel="prefetch" href="/assets/js/103.b93dfa7d.js"><link rel="prefetch" href="/assets/js/104.83952231.js"><link rel="prefetch" href="/assets/js/105.45d6d9fe.js"><link rel="prefetch" href="/assets/js/106.f2ef57e1.js"><link rel="prefetch" href="/assets/js/107.d36267e7.js"><link rel="prefetch" href="/assets/js/108.b3dfee7f.js"><link rel="prefetch" href="/assets/js/109.809b7e3e.js"><link rel="prefetch" href="/assets/js/11.f9ab06e6.js"><link rel="prefetch" href="/assets/js/110.6e73aa45.js"><link rel="prefetch" href="/assets/js/111.9e8855bd.js"><link rel="prefetch" href="/assets/js/112.182ebd2f.js"><link rel="prefetch" href="/assets/js/113.19c36964.js"><link rel="prefetch" href="/assets/js/114.89a3506f.js"><link rel="prefetch" href="/assets/js/115.8b75bf16.js"><link rel="prefetch" href="/assets/js/116.b10bf450.js"><link rel="prefetch" href="/assets/js/117.1004963f.js"><link rel="prefetch" href="/assets/js/118.0a5db3a6.js"><link rel="prefetch" href="/assets/js/119.9a609ddc.js"><link rel="prefetch" href="/assets/js/12.eb64df55.js"><link rel="prefetch" href="/assets/js/120.5cc087cc.js"><link rel="prefetch" href="/assets/js/121.aa11615d.js"><link rel="prefetch" href="/assets/js/122.d2ebe497.js"><link rel="prefetch" href="/assets/js/123.f82fb2b7.js"><link rel="prefetch" href="/assets/js/124.7050c16a.js"><link rel="prefetch" href="/assets/js/125.765a5c30.js"><link rel="prefetch" href="/assets/js/126.d3173e89.js"><link rel="prefetch" href="/assets/js/127.42a4a9fe.js"><link rel="prefetch" href="/assets/js/128.326a3320.js"><link rel="prefetch" href="/assets/js/129.d83e948c.js"><link rel="prefetch" href="/assets/js/13.15731cfa.js"><link rel="prefetch" href="/assets/js/130.c163bfd4.js"><link rel="prefetch" href="/assets/js/131.12062f18.js"><link rel="prefetch" href="/assets/js/132.ff3efd5c.js"><link rel="prefetch" href="/assets/js/133.ba3e184f.js"><link rel="prefetch" href="/assets/js/134.23f34e47.js"><link rel="prefetch" href="/assets/js/135.3dadf8db.js"><link rel="prefetch" href="/assets/js/136.1fb67a6e.js"><link rel="prefetch" href="/assets/js/137.9d6460a0.js"><link rel="prefetch" href="/assets/js/138.cd3875f0.js"><link rel="prefetch" href="/assets/js/139.e741bf7c.js"><link rel="prefetch" href="/assets/js/140.e75ad3e2.js"><link rel="prefetch" href="/assets/js/141.3deba16a.js"><link rel="prefetch" href="/assets/js/142.f1c48430.js"><link rel="prefetch" href="/assets/js/143.16f5b44e.js"><link rel="prefetch" href="/assets/js/144.9957f432.js"><link rel="prefetch" href="/assets/js/145.3807df3b.js"><link rel="prefetch" href="/assets/js/146.2cecfd84.js"><link rel="prefetch" href="/assets/js/147.bf1cfd7d.js"><link rel="prefetch" href="/assets/js/148.b9788e7d.js"><link rel="prefetch" href="/assets/js/149.f57117b9.js"><link rel="prefetch" href="/assets/js/15.229c38db.js"><link rel="prefetch" href="/assets/js/150.b6b5fd46.js"><link rel="prefetch" href="/assets/js/151.16894168.js"><link rel="prefetch" href="/assets/js/152.f8ef99d4.js"><link rel="prefetch" href="/assets/js/153.486c9429.js"><link rel="prefetch" href="/assets/js/154.8e019e29.js"><link rel="prefetch" href="/assets/js/155.c7cf9b88.js"><link rel="prefetch" href="/assets/js/156.9bafff2b.js"><link rel="prefetch" href="/assets/js/157.cc951088.js"><link rel="prefetch" href="/assets/js/158.54545666.js"><link rel="prefetch" href="/assets/js/159.9af6c13c.js"><link rel="prefetch" href="/assets/js/16.4eba8412.js"><link rel="prefetch" href="/assets/js/160.82d10777.js"><link rel="prefetch" href="/assets/js/161.350f25e4.js"><link rel="prefetch" href="/assets/js/162.0cf1f6a9.js"><link rel="prefetch" href="/assets/js/163.19eb84ec.js"><link rel="prefetch" href="/assets/js/164.261c24c8.js"><link rel="prefetch" href="/assets/js/165.a19e29eb.js"><link rel="prefetch" href="/assets/js/166.e9141a7c.js"><link rel="prefetch" href="/assets/js/167.6deb02fc.js"><link rel="prefetch" href="/assets/js/168.6a92f1f8.js"><link rel="prefetch" href="/assets/js/169.8c2750db.js"><link rel="prefetch" href="/assets/js/17.95904166.js"><link rel="prefetch" href="/assets/js/170.f604cf9e.js"><link rel="prefetch" href="/assets/js/171.b4d81323.js"><link rel="prefetch" href="/assets/js/172.42461056.js"><link rel="prefetch" href="/assets/js/173.e21c431b.js"><link rel="prefetch" href="/assets/js/174.c461e48f.js"><link rel="prefetch" href="/assets/js/175.2909bcd5.js"><link rel="prefetch" href="/assets/js/176.0c321155.js"><link rel="prefetch" href="/assets/js/177.81008696.js"><link rel="prefetch" href="/assets/js/178.2aca66f7.js"><link rel="prefetch" href="/assets/js/179.624c77ee.js"><link rel="prefetch" href="/assets/js/18.eea9ac67.js"><link rel="prefetch" href="/assets/js/180.8cd0546f.js"><link rel="prefetch" href="/assets/js/181.0e87b08a.js"><link rel="prefetch" href="/assets/js/182.3eb32bf4.js"><link rel="prefetch" href="/assets/js/183.3a99b853.js"><link rel="prefetch" href="/assets/js/184.8c57eb10.js"><link rel="prefetch" href="/assets/js/185.a1c5a887.js"><link rel="prefetch" href="/assets/js/186.8f9882be.js"><link rel="prefetch" href="/assets/js/187.3470618e.js"><link rel="prefetch" href="/assets/js/188.213afedc.js"><link rel="prefetch" href="/assets/js/189.f8ea5b92.js"><link rel="prefetch" href="/assets/js/19.382ea323.js"><link rel="prefetch" href="/assets/js/190.4f3ea273.js"><link rel="prefetch" href="/assets/js/191.72e27728.js"><link rel="prefetch" href="/assets/js/192.3cc8caa9.js"><link rel="prefetch" href="/assets/js/193.558e23d3.js"><link rel="prefetch" href="/assets/js/194.bf652291.js"><link rel="prefetch" href="/assets/js/195.1c82b638.js"><link rel="prefetch" href="/assets/js/196.e83af510.js"><link rel="prefetch" href="/assets/js/197.a5361dda.js"><link rel="prefetch" href="/assets/js/198.b77d1596.js"><link rel="prefetch" href="/assets/js/199.fa96ae1a.js"><link rel="prefetch" href="/assets/js/20.24baf1f3.js"><link rel="prefetch" href="/assets/js/200.3a9a24ab.js"><link rel="prefetch" href="/assets/js/201.858a92b5.js"><link rel="prefetch" href="/assets/js/202.918e2b0b.js"><link rel="prefetch" href="/assets/js/203.2162e1fe.js"><link rel="prefetch" href="/assets/js/204.ae26716a.js"><link rel="prefetch" href="/assets/js/205.343d1aa0.js"><link rel="prefetch" href="/assets/js/206.c73b121f.js"><link rel="prefetch" href="/assets/js/207.dae3cff3.js"><link rel="prefetch" href="/assets/js/208.e0ea6d52.js"><link rel="prefetch" href="/assets/js/209.44f84fe9.js"><link rel="prefetch" href="/assets/js/21.a35fcc0a.js"><link rel="prefetch" href="/assets/js/210.8ffb8781.js"><link rel="prefetch" href="/assets/js/211.78ab7381.js"><link rel="prefetch" href="/assets/js/212.00c11922.js"><link rel="prefetch" href="/assets/js/213.c0463121.js"><link rel="prefetch" href="/assets/js/214.9a540158.js"><link rel="prefetch" href="/assets/js/215.0145aaff.js"><link rel="prefetch" href="/assets/js/216.a30cf942.js"><link rel="prefetch" href="/assets/js/217.042351b1.js"><link rel="prefetch" href="/assets/js/218.9e3338d3.js"><link rel="prefetch" href="/assets/js/219.c04ee91a.js"><link rel="prefetch" href="/assets/js/22.26d16259.js"><link rel="prefetch" href="/assets/js/220.f0be029d.js"><link rel="prefetch" href="/assets/js/221.9d830f47.js"><link rel="prefetch" href="/assets/js/222.e3f20fb7.js"><link rel="prefetch" href="/assets/js/223.702c649d.js"><link rel="prefetch" href="/assets/js/224.00470512.js"><link rel="prefetch" href="/assets/js/225.53289736.js"><link rel="prefetch" href="/assets/js/226.8829262b.js"><link rel="prefetch" href="/assets/js/227.b29ff7fb.js"><link rel="prefetch" href="/assets/js/228.7dbd47f1.js"><link rel="prefetch" href="/assets/js/229.059169fa.js"><link rel="prefetch" href="/assets/js/23.c8e50e89.js"><link rel="prefetch" href="/assets/js/230.e53ed6b6.js"><link rel="prefetch" href="/assets/js/231.43522c61.js"><link rel="prefetch" href="/assets/js/232.fe0262d7.js"><link rel="prefetch" href="/assets/js/233.508a1fb8.js"><link rel="prefetch" href="/assets/js/234.7ca2021c.js"><link rel="prefetch" href="/assets/js/235.3d4d03f8.js"><link rel="prefetch" href="/assets/js/236.104486c2.js"><link rel="prefetch" href="/assets/js/237.f09d46b4.js"><link rel="prefetch" href="/assets/js/238.dc300e94.js"><link rel="prefetch" href="/assets/js/239.deb7fe39.js"><link rel="prefetch" href="/assets/js/24.c6dba888.js"><link rel="prefetch" href="/assets/js/240.d77c51f2.js"><link rel="prefetch" href="/assets/js/241.61fcef9c.js"><link rel="prefetch" href="/assets/js/242.b05441ce.js"><link rel="prefetch" href="/assets/js/243.923e5c28.js"><link rel="prefetch" href="/assets/js/244.f4301291.js"><link rel="prefetch" href="/assets/js/245.83fa7368.js"><link rel="prefetch" href="/assets/js/246.7c77840f.js"><link rel="prefetch" href="/assets/js/247.815520c6.js"><link rel="prefetch" href="/assets/js/248.f33dd0a0.js"><link rel="prefetch" href="/assets/js/249.3532b048.js"><link rel="prefetch" href="/assets/js/25.0dc9a630.js"><link rel="prefetch" href="/assets/js/250.8fd07b6f.js"><link rel="prefetch" href="/assets/js/251.b4b3759b.js"><link rel="prefetch" href="/assets/js/252.3808b15f.js"><link rel="prefetch" href="/assets/js/253.9b2d905a.js"><link rel="prefetch" href="/assets/js/254.ddbae0fc.js"><link rel="prefetch" href="/assets/js/255.97de76af.js"><link rel="prefetch" href="/assets/js/256.d2801e20.js"><link rel="prefetch" href="/assets/js/257.2d2d807b.js"><link rel="prefetch" href="/assets/js/258.38d87e84.js"><link rel="prefetch" href="/assets/js/259.054ea3f4.js"><link rel="prefetch" href="/assets/js/26.bafae0e1.js"><link rel="prefetch" href="/assets/js/260.8c768d8e.js"><link rel="prefetch" href="/assets/js/261.af136437.js"><link rel="prefetch" href="/assets/js/262.c1d1b6f5.js"><link rel="prefetch" href="/assets/js/263.19f5f2a3.js"><link rel="prefetch" href="/assets/js/264.a82e5664.js"><link rel="prefetch" href="/assets/js/265.24b6210d.js"><link rel="prefetch" href="/assets/js/266.e87830c6.js"><link rel="prefetch" href="/assets/js/267.9f5fb611.js"><link rel="prefetch" href="/assets/js/268.a1747aee.js"><link rel="prefetch" href="/assets/js/269.02a71fb2.js"><link rel="prefetch" href="/assets/js/27.e1589dd8.js"><link rel="prefetch" href="/assets/js/270.ee8212a4.js"><link rel="prefetch" href="/assets/js/271.a3366b69.js"><link rel="prefetch" href="/assets/js/272.5a3a7008.js"><link rel="prefetch" href="/assets/js/273.ffe65e8d.js"><link rel="prefetch" href="/assets/js/274.b99b92b8.js"><link rel="prefetch" href="/assets/js/275.15537ecb.js"><link rel="prefetch" href="/assets/js/276.fc7a1590.js"><link rel="prefetch" href="/assets/js/277.d52db415.js"><link rel="prefetch" href="/assets/js/278.5dbeb26c.js"><link rel="prefetch" href="/assets/js/279.3874f8fa.js"><link rel="prefetch" href="/assets/js/28.4416e882.js"><link rel="prefetch" href="/assets/js/280.4ebb0d3e.js"><link rel="prefetch" href="/assets/js/281.9611cc3f.js"><link rel="prefetch" href="/assets/js/282.4a027dc0.js"><link rel="prefetch" href="/assets/js/283.e72c4582.js"><link rel="prefetch" href="/assets/js/284.90a5d22c.js"><link rel="prefetch" href="/assets/js/285.c29b33c8.js"><link rel="prefetch" href="/assets/js/286.6cd0cad2.js"><link rel="prefetch" href="/assets/js/287.a098ec18.js"><link rel="prefetch" href="/assets/js/288.7bde694b.js"><link rel="prefetch" href="/assets/js/289.2a16efef.js"><link rel="prefetch" href="/assets/js/29.1c4a1b59.js"><link rel="prefetch" href="/assets/js/290.d7be8613.js"><link rel="prefetch" href="/assets/js/291.04823e86.js"><link rel="prefetch" href="/assets/js/292.a32dbff2.js"><link rel="prefetch" href="/assets/js/293.63d720b9.js"><link rel="prefetch" href="/assets/js/294.f20f7bae.js"><link rel="prefetch" href="/assets/js/295.53d21a85.js"><link rel="prefetch" href="/assets/js/296.bb6bf117.js"><link rel="prefetch" href="/assets/js/297.e07566be.js"><link rel="prefetch" href="/assets/js/298.6d759ac6.js"><link rel="prefetch" href="/assets/js/299.08a81bdc.js"><link rel="prefetch" href="/assets/js/3.5032ede8.js"><link rel="prefetch" href="/assets/js/30.7f6fa4bd.js"><link rel="prefetch" href="/assets/js/300.fbce5de5.js"><link rel="prefetch" href="/assets/js/301.cc7d29d9.js"><link rel="prefetch" href="/assets/js/302.dfee4646.js"><link rel="prefetch" href="/assets/js/303.47a911bd.js"><link rel="prefetch" href="/assets/js/304.316cf0e6.js"><link rel="prefetch" href="/assets/js/305.8d10ac18.js"><link rel="prefetch" href="/assets/js/306.6fe5884b.js"><link rel="prefetch" href="/assets/js/307.9d8e8122.js"><link rel="prefetch" href="/assets/js/308.c457345f.js"><link rel="prefetch" href="/assets/js/309.a5543f0f.js"><link rel="prefetch" href="/assets/js/31.b6d3d851.js"><link rel="prefetch" href="/assets/js/310.2473b1da.js"><link rel="prefetch" href="/assets/js/311.c5dc1b4f.js"><link rel="prefetch" href="/assets/js/312.a60d64f1.js"><link rel="prefetch" href="/assets/js/313.9c7a0b35.js"><link rel="prefetch" href="/assets/js/314.9fe07da4.js"><link rel="prefetch" href="/assets/js/315.7beac325.js"><link rel="prefetch" href="/assets/js/316.d2a94af4.js"><link rel="prefetch" href="/assets/js/317.5537d995.js"><link rel="prefetch" href="/assets/js/318.2bbf3d92.js"><link rel="prefetch" href="/assets/js/319.dbddcf0e.js"><link rel="prefetch" href="/assets/js/32.ecf9ee18.js"><link rel="prefetch" href="/assets/js/320.041b8b05.js"><link rel="prefetch" href="/assets/js/321.b6b6238b.js"><link rel="prefetch" href="/assets/js/322.56df65ab.js"><link rel="prefetch" href="/assets/js/323.19412797.js"><link rel="prefetch" href="/assets/js/324.d88c4038.js"><link rel="prefetch" href="/assets/js/325.d3a46e62.js"><link rel="prefetch" href="/assets/js/326.529a2e6e.js"><link rel="prefetch" href="/assets/js/327.e205f969.js"><link rel="prefetch" href="/assets/js/328.62c04309.js"><link rel="prefetch" href="/assets/js/329.8da52904.js"><link rel="prefetch" href="/assets/js/33.1f416b8c.js"><link rel="prefetch" href="/assets/js/330.9234ea6b.js"><link rel="prefetch" href="/assets/js/331.806d2a31.js"><link rel="prefetch" href="/assets/js/332.d03b6f42.js"><link rel="prefetch" href="/assets/js/333.1471e9db.js"><link rel="prefetch" href="/assets/js/334.6e58d612.js"><link rel="prefetch" href="/assets/js/335.3946f65d.js"><link rel="prefetch" href="/assets/js/336.5c2919ca.js"><link rel="prefetch" href="/assets/js/337.3eede4fa.js"><link rel="prefetch" href="/assets/js/338.4ed70cc3.js"><link rel="prefetch" href="/assets/js/339.b566ab5f.js"><link rel="prefetch" href="/assets/js/34.fbcfef61.js"><link rel="prefetch" href="/assets/js/340.377cd218.js"><link rel="prefetch" href="/assets/js/341.f01d2770.js"><link rel="prefetch" href="/assets/js/342.94a2d934.js"><link rel="prefetch" href="/assets/js/343.cd9cdd50.js"><link rel="prefetch" href="/assets/js/344.000b6c2b.js"><link rel="prefetch" href="/assets/js/345.568f56e7.js"><link rel="prefetch" href="/assets/js/346.f0fd988a.js"><link rel="prefetch" href="/assets/js/347.a92003c5.js"><link rel="prefetch" href="/assets/js/348.4d29d090.js"><link rel="prefetch" href="/assets/js/349.d4c27f1d.js"><link rel="prefetch" href="/assets/js/35.d8c6ad21.js"><link rel="prefetch" href="/assets/js/350.8e89f91f.js"><link rel="prefetch" href="/assets/js/351.9919fb0c.js"><link rel="prefetch" href="/assets/js/352.8dfc484d.js"><link rel="prefetch" href="/assets/js/353.8ecc697b.js"><link rel="prefetch" href="/assets/js/354.875f2068.js"><link rel="prefetch" href="/assets/js/355.0b670fa1.js"><link rel="prefetch" href="/assets/js/356.dc7cc19f.js"><link rel="prefetch" href="/assets/js/357.468bf828.js"><link rel="prefetch" href="/assets/js/358.402e7284.js"><link rel="prefetch" href="/assets/js/359.17f672de.js"><link rel="prefetch" href="/assets/js/36.26c36693.js"><link rel="prefetch" href="/assets/js/360.bf04153c.js"><link rel="prefetch" href="/assets/js/361.856307a6.js"><link rel="prefetch" href="/assets/js/362.0fb8b825.js"><link rel="prefetch" href="/assets/js/363.5bffa713.js"><link rel="prefetch" href="/assets/js/364.a571081b.js"><link rel="prefetch" href="/assets/js/365.574e54d6.js"><link rel="prefetch" href="/assets/js/366.b26a6684.js"><link rel="prefetch" href="/assets/js/367.728c0e3d.js"><link rel="prefetch" href="/assets/js/368.fba02ed8.js"><link rel="prefetch" href="/assets/js/369.a3523c32.js"><link rel="prefetch" href="/assets/js/37.37d86afc.js"><link rel="prefetch" href="/assets/js/370.c2d361ae.js"><link rel="prefetch" href="/assets/js/371.5f2a0cf0.js"><link rel="prefetch" href="/assets/js/372.dad7c643.js"><link rel="prefetch" href="/assets/js/373.84d644dd.js"><link rel="prefetch" href="/assets/js/374.20811ac0.js"><link rel="prefetch" href="/assets/js/375.835ee27a.js"><link rel="prefetch" href="/assets/js/376.acdee831.js"><link rel="prefetch" href="/assets/js/377.3e4cbc82.js"><link rel="prefetch" href="/assets/js/378.47d98850.js"><link rel="prefetch" href="/assets/js/379.a1c3bd7c.js"><link rel="prefetch" href="/assets/js/38.fe5c680f.js"><link rel="prefetch" href="/assets/js/380.747a5908.js"><link rel="prefetch" href="/assets/js/381.bf2f9885.js"><link rel="prefetch" href="/assets/js/382.38705ffc.js"><link rel="prefetch" href="/assets/js/383.be1aca0f.js"><link rel="prefetch" href="/assets/js/384.bb27b8d8.js"><link rel="prefetch" href="/assets/js/385.482e75ad.js"><link rel="prefetch" href="/assets/js/386.9fa44bb7.js"><link rel="prefetch" href="/assets/js/387.c1c3bcc4.js"><link rel="prefetch" href="/assets/js/388.c7c213aa.js"><link rel="prefetch" href="/assets/js/389.9d93cec5.js"><link rel="prefetch" href="/assets/js/39.6e7c8990.js"><link rel="prefetch" href="/assets/js/390.5071a9b5.js"><link rel="prefetch" href="/assets/js/391.814681b3.js"><link rel="prefetch" href="/assets/js/392.786596d6.js"><link rel="prefetch" href="/assets/js/393.221206ab.js"><link rel="prefetch" href="/assets/js/394.0e0df620.js"><link rel="prefetch" href="/assets/js/395.25ca7512.js"><link rel="prefetch" href="/assets/js/396.f6242eec.js"><link rel="prefetch" href="/assets/js/397.63cc7ae5.js"><link rel="prefetch" href="/assets/js/398.4ba28651.js"><link rel="prefetch" href="/assets/js/399.7a96f4f4.js"><link rel="prefetch" href="/assets/js/40.a06c7aae.js"><link rel="prefetch" href="/assets/js/400.ea3e6062.js"><link rel="prefetch" href="/assets/js/401.e08bb664.js"><link rel="prefetch" href="/assets/js/402.23add7ff.js"><link rel="prefetch" href="/assets/js/403.102f184a.js"><link rel="prefetch" href="/assets/js/404.ca63786d.js"><link rel="prefetch" href="/assets/js/405.c1354ece.js"><link rel="prefetch" href="/assets/js/406.4444fd2d.js"><link rel="prefetch" href="/assets/js/407.97c9c4c8.js"><link rel="prefetch" href="/assets/js/408.e40aea94.js"><link rel="prefetch" href="/assets/js/409.4ca60572.js"><link rel="prefetch" href="/assets/js/41.a5b58c01.js"><link rel="prefetch" href="/assets/js/410.79590dec.js"><link rel="prefetch" href="/assets/js/411.285369e4.js"><link rel="prefetch" href="/assets/js/412.98b9edd0.js"><link rel="prefetch" href="/assets/js/413.5572b451.js"><link rel="prefetch" href="/assets/js/414.3b79f21d.js"><link rel="prefetch" href="/assets/js/415.b52a2300.js"><link rel="prefetch" href="/assets/js/416.ae4e8f50.js"><link rel="prefetch" href="/assets/js/417.34a48828.js"><link rel="prefetch" href="/assets/js/418.0030a25c.js"><link rel="prefetch" href="/assets/js/419.4ae2374f.js"><link rel="prefetch" href="/assets/js/42.1bfe09f3.js"><link rel="prefetch" href="/assets/js/420.1ba9c6b6.js"><link rel="prefetch" href="/assets/js/421.1de709a0.js"><link rel="prefetch" href="/assets/js/422.96840916.js"><link rel="prefetch" href="/assets/js/423.67d8053c.js"><link rel="prefetch" href="/assets/js/424.3ce0636b.js"><link rel="prefetch" href="/assets/js/425.25007553.js"><link rel="prefetch" href="/assets/js/426.e46a27ef.js"><link rel="prefetch" href="/assets/js/427.07d9ab8e.js"><link rel="prefetch" href="/assets/js/428.a630b43e.js"><link rel="prefetch" href="/assets/js/429.58661a1b.js"><link rel="prefetch" href="/assets/js/43.6ac1b225.js"><link rel="prefetch" href="/assets/js/430.67c51618.js"><link rel="prefetch" href="/assets/js/431.07a4a4fd.js"><link rel="prefetch" href="/assets/js/432.608ccf1b.js"><link rel="prefetch" href="/assets/js/433.a44b2de3.js"><link rel="prefetch" href="/assets/js/434.841be482.js"><link rel="prefetch" href="/assets/js/435.fb893b8d.js"><link rel="prefetch" href="/assets/js/436.801e73cc.js"><link rel="prefetch" href="/assets/js/437.adf157f3.js"><link rel="prefetch" href="/assets/js/438.80b6a289.js"><link rel="prefetch" href="/assets/js/439.aeb474da.js"><link rel="prefetch" href="/assets/js/44.521e5c2f.js"><link rel="prefetch" href="/assets/js/440.95c324d3.js"><link rel="prefetch" href="/assets/js/441.53ba1ce3.js"><link rel="prefetch" href="/assets/js/442.6ca04c05.js"><link rel="prefetch" href="/assets/js/443.a75e4cae.js"><link rel="prefetch" href="/assets/js/444.5e5b6309.js"><link rel="prefetch" href="/assets/js/445.05006ec7.js"><link rel="prefetch" href="/assets/js/446.54da7535.js"><link rel="prefetch" href="/assets/js/447.b156938c.js"><link rel="prefetch" href="/assets/js/448.01d25227.js"><link rel="prefetch" href="/assets/js/449.ebddecca.js"><link rel="prefetch" href="/assets/js/45.caa7708d.js"><link rel="prefetch" href="/assets/js/450.4396a1b6.js"><link rel="prefetch" href="/assets/js/451.30e6e61b.js"><link rel="prefetch" href="/assets/js/452.d28d0969.js"><link rel="prefetch" href="/assets/js/453.1bb9d6a5.js"><link rel="prefetch" href="/assets/js/454.1bec633e.js"><link rel="prefetch" href="/assets/js/455.0945e5ee.js"><link rel="prefetch" href="/assets/js/456.7e565378.js"><link rel="prefetch" href="/assets/js/457.3eddf22a.js"><link rel="prefetch" href="/assets/js/458.03238f59.js"><link rel="prefetch" href="/assets/js/459.43fd46c7.js"><link rel="prefetch" href="/assets/js/46.eb521cbd.js"><link rel="prefetch" href="/assets/js/460.d02c04db.js"><link rel="prefetch" href="/assets/js/461.22415da7.js"><link rel="prefetch" href="/assets/js/462.b4f04f66.js"><link rel="prefetch" href="/assets/js/463.36d8ca05.js"><link rel="prefetch" href="/assets/js/464.6273734e.js"><link rel="prefetch" href="/assets/js/465.c6db7253.js"><link rel="prefetch" href="/assets/js/466.d8275f6a.js"><link rel="prefetch" href="/assets/js/467.615ded46.js"><link rel="prefetch" href="/assets/js/468.fa2ce35f.js"><link rel="prefetch" href="/assets/js/469.ce4cabd7.js"><link rel="prefetch" href="/assets/js/47.212af7ba.js"><link rel="prefetch" href="/assets/js/470.f29ad390.js"><link rel="prefetch" href="/assets/js/471.fd2ded9f.js"><link rel="prefetch" href="/assets/js/472.b998afec.js"><link rel="prefetch" href="/assets/js/473.59a5c254.js"><link rel="prefetch" href="/assets/js/474.941d1dc5.js"><link rel="prefetch" href="/assets/js/475.feccb1c1.js"><link rel="prefetch" href="/assets/js/476.99dc6fba.js"><link rel="prefetch" href="/assets/js/477.78013ecf.js"><link rel="prefetch" href="/assets/js/478.fbca0f0a.js"><link rel="prefetch" href="/assets/js/479.33e8d624.js"><link rel="prefetch" href="/assets/js/48.8fc36df0.js"><link rel="prefetch" href="/assets/js/480.6f9d0b32.js"><link rel="prefetch" href="/assets/js/481.7c6761bc.js"><link rel="prefetch" href="/assets/js/482.c825ab30.js"><link rel="prefetch" href="/assets/js/483.19e14028.js"><link rel="prefetch" href="/assets/js/484.856c53fe.js"><link rel="prefetch" href="/assets/js/485.8e245bae.js"><link rel="prefetch" href="/assets/js/486.28f28978.js"><link rel="prefetch" href="/assets/js/487.2f958cbc.js"><link rel="prefetch" href="/assets/js/488.b947410d.js"><link rel="prefetch" href="/assets/js/489.83fb2184.js"><link rel="prefetch" href="/assets/js/49.32218563.js"><link rel="prefetch" href="/assets/js/490.3214b6f2.js"><link rel="prefetch" href="/assets/js/491.7226bd3c.js"><link rel="prefetch" href="/assets/js/492.a2b76c94.js"><link rel="prefetch" href="/assets/js/493.800ba222.js"><link rel="prefetch" href="/assets/js/494.8dc3fc6d.js"><link rel="prefetch" href="/assets/js/495.ee15084d.js"><link rel="prefetch" href="/assets/js/496.5ee66536.js"><link rel="prefetch" href="/assets/js/497.d071c7a6.js"><link rel="prefetch" href="/assets/js/498.a68774e1.js"><link rel="prefetch" href="/assets/js/499.2da05836.js"><link rel="prefetch" href="/assets/js/5.ed032561.js"><link rel="prefetch" href="/assets/js/50.41c94c44.js"><link rel="prefetch" href="/assets/js/500.f1fa7ea1.js"><link rel="prefetch" href="/assets/js/501.744eb072.js"><link rel="prefetch" href="/assets/js/502.ed81e1e2.js"><link rel="prefetch" href="/assets/js/503.7dad8a03.js"><link rel="prefetch" href="/assets/js/504.659e484d.js"><link rel="prefetch" href="/assets/js/505.1bdd23fa.js"><link rel="prefetch" href="/assets/js/506.c298d896.js"><link rel="prefetch" href="/assets/js/507.982b6cb7.js"><link rel="prefetch" href="/assets/js/508.e4448259.js"><link rel="prefetch" href="/assets/js/509.da079f63.js"><link rel="prefetch" href="/assets/js/51.1f681195.js"><link rel="prefetch" href="/assets/js/510.92202005.js"><link rel="prefetch" href="/assets/js/511.bca1df8f.js"><link rel="prefetch" href="/assets/js/512.2bf2b746.js"><link rel="prefetch" href="/assets/js/513.f1934136.js"><link rel="prefetch" href="/assets/js/514.ccb08a0a.js"><link rel="prefetch" href="/assets/js/515.e6fa3d64.js"><link rel="prefetch" href="/assets/js/516.f4291954.js"><link rel="prefetch" href="/assets/js/517.1d384b43.js"><link rel="prefetch" href="/assets/js/518.c84843c8.js"><link rel="prefetch" href="/assets/js/519.cea2639b.js"><link rel="prefetch" href="/assets/js/52.6ece789f.js"><link rel="prefetch" href="/assets/js/520.2e6d98a3.js"><link rel="prefetch" href="/assets/js/521.27068add.js"><link rel="prefetch" href="/assets/js/522.d3aa7501.js"><link rel="prefetch" href="/assets/js/523.3b5f3575.js"><link rel="prefetch" href="/assets/js/524.22b3d973.js"><link rel="prefetch" href="/assets/js/525.d2b0cb9b.js"><link rel="prefetch" href="/assets/js/526.6ea9b224.js"><link rel="prefetch" href="/assets/js/527.07e5f05b.js"><link rel="prefetch" href="/assets/js/528.b8a5872f.js"><link rel="prefetch" href="/assets/js/529.cfa14b69.js"><link rel="prefetch" href="/assets/js/53.c74c2535.js"><link rel="prefetch" href="/assets/js/530.112565e2.js"><link rel="prefetch" href="/assets/js/531.b51032a9.js"><link rel="prefetch" href="/assets/js/532.f2e8e4e8.js"><link rel="prefetch" href="/assets/js/533.5c839c2d.js"><link rel="prefetch" href="/assets/js/534.142ecf05.js"><link rel="prefetch" href="/assets/js/535.b7cb49d3.js"><link rel="prefetch" href="/assets/js/536.e276684e.js"><link rel="prefetch" href="/assets/js/537.5c61569d.js"><link rel="prefetch" href="/assets/js/538.867aa40d.js"><link rel="prefetch" href="/assets/js/539.345a3c45.js"><link rel="prefetch" href="/assets/js/54.48dab458.js"><link rel="prefetch" href="/assets/js/540.e7a46be3.js"><link rel="prefetch" href="/assets/js/541.35967359.js"><link rel="prefetch" href="/assets/js/542.8df3b367.js"><link rel="prefetch" href="/assets/js/543.d79f6576.js"><link rel="prefetch" href="/assets/js/544.f371a8a3.js"><link rel="prefetch" href="/assets/js/545.0c336a44.js"><link rel="prefetch" href="/assets/js/546.f1c381bd.js"><link rel="prefetch" href="/assets/js/547.7ceb15c3.js"><link rel="prefetch" href="/assets/js/548.a3789776.js"><link rel="prefetch" href="/assets/js/549.d20606df.js"><link rel="prefetch" href="/assets/js/55.d104ee29.js"><link rel="prefetch" href="/assets/js/550.e9f85bd6.js"><link rel="prefetch" href="/assets/js/551.cd9d646a.js"><link rel="prefetch" href="/assets/js/552.c1cda3b4.js"><link rel="prefetch" href="/assets/js/553.d35352d5.js"><link rel="prefetch" href="/assets/js/554.9b08cc92.js"><link rel="prefetch" href="/assets/js/555.5309d0bc.js"><link rel="prefetch" href="/assets/js/556.7eac0b12.js"><link rel="prefetch" href="/assets/js/557.a600dc2e.js"><link rel="prefetch" href="/assets/js/558.9a5a255b.js"><link rel="prefetch" href="/assets/js/559.e4aa456d.js"><link rel="prefetch" href="/assets/js/56.f7ceaf1e.js"><link rel="prefetch" href="/assets/js/560.ea88f751.js"><link rel="prefetch" href="/assets/js/561.5da9b7b5.js"><link rel="prefetch" href="/assets/js/562.dbfd8ffc.js"><link rel="prefetch" href="/assets/js/563.c4d349b6.js"><link rel="prefetch" href="/assets/js/564.1f1e89fc.js"><link rel="prefetch" href="/assets/js/565.3cba5760.js"><link rel="prefetch" href="/assets/js/566.846e70a2.js"><link rel="prefetch" href="/assets/js/567.6e30b268.js"><link rel="prefetch" href="/assets/js/568.eb9c047a.js"><link rel="prefetch" href="/assets/js/569.ec627755.js"><link rel="prefetch" href="/assets/js/57.7591819a.js"><link rel="prefetch" href="/assets/js/570.b3b6ad55.js"><link rel="prefetch" href="/assets/js/571.0bd91592.js"><link rel="prefetch" href="/assets/js/572.150d6d86.js"><link rel="prefetch" href="/assets/js/573.7cd27b9b.js"><link rel="prefetch" href="/assets/js/574.1a18b605.js"><link rel="prefetch" href="/assets/js/575.3500bdaf.js"><link rel="prefetch" href="/assets/js/576.946a985f.js"><link rel="prefetch" href="/assets/js/577.3fa9c801.js"><link rel="prefetch" href="/assets/js/578.76f559fe.js"><link rel="prefetch" href="/assets/js/579.75c2b165.js"><link rel="prefetch" href="/assets/js/58.b3d4ec5b.js"><link rel="prefetch" href="/assets/js/580.016f0f8d.js"><link rel="prefetch" href="/assets/js/581.0fe5e2b9.js"><link rel="prefetch" href="/assets/js/582.e4d479c7.js"><link rel="prefetch" href="/assets/js/583.2026d196.js"><link rel="prefetch" href="/assets/js/584.e256514f.js"><link rel="prefetch" href="/assets/js/585.cb8184e2.js"><link rel="prefetch" href="/assets/js/586.0efdbcd9.js"><link rel="prefetch" href="/assets/js/587.19e66bdc.js"><link rel="prefetch" href="/assets/js/588.49ca7e20.js"><link rel="prefetch" href="/assets/js/589.aca7f3d6.js"><link rel="prefetch" href="/assets/js/59.0c3b9bdb.js"><link rel="prefetch" href="/assets/js/590.2bd2462f.js"><link rel="prefetch" href="/assets/js/591.d09f1ef6.js"><link rel="prefetch" href="/assets/js/592.961704d3.js"><link rel="prefetch" href="/assets/js/593.d882e469.js"><link rel="prefetch" href="/assets/js/594.d098d5da.js"><link rel="prefetch" href="/assets/js/595.7d1ada52.js"><link rel="prefetch" href="/assets/js/596.6e9b4117.js"><link rel="prefetch" href="/assets/js/597.6df3f2a4.js"><link rel="prefetch" href="/assets/js/598.257132d5.js"><link rel="prefetch" href="/assets/js/599.be263f8a.js"><link rel="prefetch" href="/assets/js/6.22ab06c2.js"><link rel="prefetch" href="/assets/js/60.3bc94865.js"><link rel="prefetch" href="/assets/js/600.1177c2f1.js"><link rel="prefetch" href="/assets/js/601.a690a9ce.js"><link rel="prefetch" href="/assets/js/602.2818f751.js"><link rel="prefetch" href="/assets/js/603.b36e8d1f.js"><link rel="prefetch" href="/assets/js/604.12670c9b.js"><link rel="prefetch" href="/assets/js/605.03777055.js"><link rel="prefetch" href="/assets/js/606.6b7463d7.js"><link rel="prefetch" href="/assets/js/607.d5256c7e.js"><link rel="prefetch" href="/assets/js/608.c7f12872.js"><link rel="prefetch" href="/assets/js/609.1e1d71a1.js"><link rel="prefetch" href="/assets/js/61.476c46f5.js"><link rel="prefetch" href="/assets/js/610.bd842789.js"><link rel="prefetch" href="/assets/js/611.b528b9b8.js"><link rel="prefetch" href="/assets/js/612.9da36051.js"><link rel="prefetch" href="/assets/js/613.2ff48e59.js"><link rel="prefetch" href="/assets/js/614.f5c4474b.js"><link rel="prefetch" href="/assets/js/615.5c4f1133.js"><link rel="prefetch" href="/assets/js/616.9b160cad.js"><link rel="prefetch" href="/assets/js/617.2185806c.js"><link rel="prefetch" href="/assets/js/618.c55b5def.js"><link rel="prefetch" href="/assets/js/619.cf9fa5ab.js"><link rel="prefetch" href="/assets/js/62.4cca58d9.js"><link rel="prefetch" href="/assets/js/620.292ff8a4.js"><link rel="prefetch" href="/assets/js/621.2e6e2929.js"><link rel="prefetch" href="/assets/js/622.75625fe0.js"><link rel="prefetch" href="/assets/js/623.0da01fda.js"><link rel="prefetch" href="/assets/js/624.34e891eb.js"><link rel="prefetch" href="/assets/js/625.d728c14e.js"><link rel="prefetch" href="/assets/js/626.ad1b1c5c.js"><link rel="prefetch" href="/assets/js/627.d9a9e124.js"><link rel="prefetch" href="/assets/js/628.d93db87a.js"><link rel="prefetch" href="/assets/js/629.ffa7d83d.js"><link rel="prefetch" href="/assets/js/63.9393a98f.js"><link rel="prefetch" href="/assets/js/630.b981a183.js"><link rel="prefetch" href="/assets/js/631.576d217e.js"><link rel="prefetch" href="/assets/js/632.c5c720e4.js"><link rel="prefetch" href="/assets/js/633.a5881def.js"><link rel="prefetch" href="/assets/js/634.b5385795.js"><link rel="prefetch" href="/assets/js/635.e3ba3ff0.js"><link rel="prefetch" href="/assets/js/636.4713acdf.js"><link rel="prefetch" href="/assets/js/637.881ee038.js"><link rel="prefetch" href="/assets/js/638.90c2c5f8.js"><link rel="prefetch" href="/assets/js/639.32bad445.js"><link rel="prefetch" href="/assets/js/64.652c6047.js"><link rel="prefetch" href="/assets/js/640.0f76ec2a.js"><link rel="prefetch" href="/assets/js/641.a6dcd11e.js"><link rel="prefetch" href="/assets/js/642.7e0025b1.js"><link rel="prefetch" href="/assets/js/643.7172513d.js"><link rel="prefetch" href="/assets/js/644.0888ebb1.js"><link rel="prefetch" href="/assets/js/645.dc2b69ea.js"><link rel="prefetch" href="/assets/js/646.3e18e499.js"><link rel="prefetch" href="/assets/js/647.79f8e435.js"><link rel="prefetch" href="/assets/js/648.06cdda21.js"><link rel="prefetch" href="/assets/js/649.2dd4c784.js"><link rel="prefetch" href="/assets/js/65.934736af.js"><link rel="prefetch" href="/assets/js/650.09509eae.js"><link rel="prefetch" href="/assets/js/651.c77c2c79.js"><link rel="prefetch" href="/assets/js/652.4fc76db6.js"><link rel="prefetch" href="/assets/js/653.567f79f9.js"><link rel="prefetch" href="/assets/js/654.3ca7ac4c.js"><link rel="prefetch" href="/assets/js/655.d929bd6b.js"><link rel="prefetch" href="/assets/js/656.4ceab221.js"><link rel="prefetch" href="/assets/js/657.681c0226.js"><link rel="prefetch" href="/assets/js/658.1dd56819.js"><link rel="prefetch" href="/assets/js/659.338cfbd0.js"><link rel="prefetch" href="/assets/js/66.71d1b6e6.js"><link rel="prefetch" href="/assets/js/660.c62af7ab.js"><link rel="prefetch" href="/assets/js/661.27a7334b.js"><link rel="prefetch" href="/assets/js/662.3a9a5591.js"><link rel="prefetch" href="/assets/js/663.106d8751.js"><link rel="prefetch" href="/assets/js/664.77464a8f.js"><link rel="prefetch" href="/assets/js/665.20799e8b.js"><link rel="prefetch" href="/assets/js/666.78de1b30.js"><link rel="prefetch" href="/assets/js/667.e680eced.js"><link rel="prefetch" href="/assets/js/668.ef8e94f3.js"><link rel="prefetch" href="/assets/js/669.e32b0a83.js"><link rel="prefetch" href="/assets/js/67.72e406c0.js"><link rel="prefetch" href="/assets/js/670.40688067.js"><link rel="prefetch" href="/assets/js/671.d669195a.js"><link rel="prefetch" href="/assets/js/672.546c4688.js"><link rel="prefetch" href="/assets/js/673.c4220df9.js"><link rel="prefetch" href="/assets/js/674.5b9be604.js"><link rel="prefetch" href="/assets/js/675.a7ddfa59.js"><link rel="prefetch" href="/assets/js/676.ae77ad91.js"><link rel="prefetch" href="/assets/js/677.51cf50dc.js"><link rel="prefetch" href="/assets/js/678.1a7d71a5.js"><link rel="prefetch" href="/assets/js/679.ef0589b7.js"><link rel="prefetch" href="/assets/js/68.e008857a.js"><link rel="prefetch" href="/assets/js/680.fe8b23e6.js"><link rel="prefetch" href="/assets/js/681.0fafe446.js"><link rel="prefetch" href="/assets/js/682.a2d6e82b.js"><link rel="prefetch" href="/assets/js/683.fb65fb8e.js"><link rel="prefetch" href="/assets/js/684.a1dbe127.js"><link rel="prefetch" href="/assets/js/685.146ea11c.js"><link rel="prefetch" href="/assets/js/686.9da38e73.js"><link rel="prefetch" href="/assets/js/687.c8f177c8.js"><link rel="prefetch" href="/assets/js/688.2de1bd91.js"><link rel="prefetch" href="/assets/js/689.930bcc58.js"><link rel="prefetch" href="/assets/js/69.253e1554.js"><link rel="prefetch" href="/assets/js/690.0ce43d65.js"><link rel="prefetch" href="/assets/js/691.f6a887a8.js"><link rel="prefetch" href="/assets/js/692.fca7d40b.js"><link rel="prefetch" href="/assets/js/693.e258211a.js"><link rel="prefetch" href="/assets/js/694.4157dd2c.js"><link rel="prefetch" href="/assets/js/695.f830bd5f.js"><link rel="prefetch" href="/assets/js/696.30d35259.js"><link rel="prefetch" href="/assets/js/697.50675862.js"><link rel="prefetch" href="/assets/js/698.9f79becf.js"><link rel="prefetch" href="/assets/js/699.e13f3acb.js"><link rel="prefetch" href="/assets/js/7.cf814933.js"><link rel="prefetch" href="/assets/js/70.045fd303.js"><link rel="prefetch" href="/assets/js/700.cb99a1ee.js"><link rel="prefetch" href="/assets/js/701.68e76238.js"><link rel="prefetch" href="/assets/js/702.7909e770.js"><link rel="prefetch" href="/assets/js/703.8bf3d347.js"><link rel="prefetch" href="/assets/js/704.985055a5.js"><link rel="prefetch" href="/assets/js/705.238368b7.js"><link rel="prefetch" href="/assets/js/706.1e7a25c6.js"><link rel="prefetch" href="/assets/js/707.57aacaaa.js"><link rel="prefetch" href="/assets/js/708.c9a91fb0.js"><link rel="prefetch" href="/assets/js/709.7df74606.js"><link rel="prefetch" href="/assets/js/71.9236d08a.js"><link rel="prefetch" href="/assets/js/710.436231cc.js"><link rel="prefetch" href="/assets/js/711.dcbf906e.js"><link rel="prefetch" href="/assets/js/712.70511cb1.js"><link rel="prefetch" href="/assets/js/713.5de9088a.js"><link rel="prefetch" href="/assets/js/714.cd2cb224.js"><link rel="prefetch" href="/assets/js/715.c49ec42e.js"><link rel="prefetch" href="/assets/js/716.2eebf447.js"><link rel="prefetch" href="/assets/js/717.811891e7.js"><link rel="prefetch" href="/assets/js/718.19b452cc.js"><link rel="prefetch" href="/assets/js/719.a25595df.js"><link rel="prefetch" href="/assets/js/72.4009920d.js"><link rel="prefetch" href="/assets/js/720.27618c5c.js"><link rel="prefetch" href="/assets/js/721.0004dd5d.js"><link rel="prefetch" href="/assets/js/722.5aff43f0.js"><link rel="prefetch" href="/assets/js/723.fd6b58a4.js"><link rel="prefetch" href="/assets/js/724.b2051b4e.js"><link rel="prefetch" href="/assets/js/725.72edf000.js"><link rel="prefetch" href="/assets/js/726.1da41469.js"><link rel="prefetch" href="/assets/js/727.595c1bdc.js"><link rel="prefetch" href="/assets/js/728.1b1b6215.js"><link rel="prefetch" href="/assets/js/729.1bbc9d70.js"><link rel="prefetch" href="/assets/js/73.4b55d486.js"><link rel="prefetch" href="/assets/js/730.2a611b50.js"><link rel="prefetch" href="/assets/js/731.b21edfe0.js"><link rel="prefetch" href="/assets/js/732.2aa492af.js"><link rel="prefetch" href="/assets/js/733.e0d0083c.js"><link rel="prefetch" href="/assets/js/734.e7b66b9b.js"><link rel="prefetch" href="/assets/js/735.f30c1a50.js"><link rel="prefetch" href="/assets/js/736.9259b907.js"><link rel="prefetch" href="/assets/js/737.0ffb3b14.js"><link rel="prefetch" href="/assets/js/738.68fe79d8.js"><link rel="prefetch" href="/assets/js/739.5c5a812a.js"><link rel="prefetch" href="/assets/js/74.9ca42a95.js"><link rel="prefetch" href="/assets/js/740.ea8b1fa2.js"><link rel="prefetch" href="/assets/js/741.55fbd8e6.js"><link rel="prefetch" href="/assets/js/742.a466c62f.js"><link rel="prefetch" href="/assets/js/743.5855ba72.js"><link rel="prefetch" href="/assets/js/744.dc975123.js"><link rel="prefetch" href="/assets/js/745.f8533725.js"><link rel="prefetch" href="/assets/js/746.736a8b92.js"><link rel="prefetch" href="/assets/js/747.d092e964.js"><link rel="prefetch" href="/assets/js/748.5c7bf909.js"><link rel="prefetch" href="/assets/js/749.cb5f4f84.js"><link rel="prefetch" href="/assets/js/75.e493b708.js"><link rel="prefetch" href="/assets/js/750.a4cdfd33.js"><link rel="prefetch" href="/assets/js/751.858ebba7.js"><link rel="prefetch" href="/assets/js/752.eb11b296.js"><link rel="prefetch" href="/assets/js/753.fc028f62.js"><link rel="prefetch" href="/assets/js/754.0f657857.js"><link rel="prefetch" href="/assets/js/755.57826499.js"><link rel="prefetch" href="/assets/js/756.f2de6300.js"><link rel="prefetch" href="/assets/js/757.ef9196db.js"><link rel="prefetch" href="/assets/js/758.2d42d228.js"><link rel="prefetch" href="/assets/js/759.f7d9d989.js"><link rel="prefetch" href="/assets/js/76.e18beaf1.js"><link rel="prefetch" href="/assets/js/760.62210b66.js"><link rel="prefetch" href="/assets/js/761.d1a13cdf.js"><link rel="prefetch" href="/assets/js/762.578cf8c6.js"><link rel="prefetch" href="/assets/js/763.4f389aa7.js"><link rel="prefetch" href="/assets/js/764.674fdcb9.js"><link rel="prefetch" href="/assets/js/765.fffed1e9.js"><link rel="prefetch" href="/assets/js/766.1c7e2f9d.js"><link rel="prefetch" href="/assets/js/767.485f72f3.js"><link rel="prefetch" href="/assets/js/768.bc02874a.js"><link rel="prefetch" href="/assets/js/769.032cf5ca.js"><link rel="prefetch" href="/assets/js/77.8be2a6ca.js"><link rel="prefetch" href="/assets/js/770.aadbafa5.js"><link rel="prefetch" href="/assets/js/771.39fdcf55.js"><link rel="prefetch" href="/assets/js/772.cbdd71af.js"><link rel="prefetch" href="/assets/js/773.43d3a667.js"><link rel="prefetch" href="/assets/js/774.9d301efc.js"><link rel="prefetch" href="/assets/js/775.25c99155.js"><link rel="prefetch" href="/assets/js/776.3de17325.js"><link rel="prefetch" href="/assets/js/777.0ba600c2.js"><link rel="prefetch" href="/assets/js/778.64e2ba70.js"><link rel="prefetch" href="/assets/js/779.50754b01.js"><link rel="prefetch" href="/assets/js/78.0353e8dc.js"><link rel="prefetch" href="/assets/js/780.b37da8b6.js"><link rel="prefetch" href="/assets/js/781.ee4f75fc.js"><link rel="prefetch" href="/assets/js/782.c2dce1d3.js"><link rel="prefetch" href="/assets/js/783.ebacadb2.js"><link rel="prefetch" href="/assets/js/784.7efc62e8.js"><link rel="prefetch" href="/assets/js/785.0327fdaa.js"><link rel="prefetch" href="/assets/js/786.6a52e5a2.js"><link rel="prefetch" href="/assets/js/787.b28aa1db.js"><link rel="prefetch" href="/assets/js/788.008c81df.js"><link rel="prefetch" href="/assets/js/789.f4f3ae8b.js"><link rel="prefetch" href="/assets/js/79.1f81f4ad.js"><link rel="prefetch" href="/assets/js/790.ed871db9.js"><link rel="prefetch" href="/assets/js/791.190964b2.js"><link rel="prefetch" href="/assets/js/792.43baac5d.js"><link rel="prefetch" href="/assets/js/793.b2291c50.js"><link rel="prefetch" href="/assets/js/794.5a04ff36.js"><link rel="prefetch" href="/assets/js/795.d3bbb169.js"><link rel="prefetch" href="/assets/js/796.7573f53f.js"><link rel="prefetch" href="/assets/js/797.32d8e94e.js"><link rel="prefetch" href="/assets/js/798.67308baf.js"><link rel="prefetch" href="/assets/js/799.6cf34633.js"><link rel="prefetch" href="/assets/js/8.ec4a1681.js"><link rel="prefetch" href="/assets/js/80.0815b323.js"><link rel="prefetch" href="/assets/js/800.2c0d4b07.js"><link rel="prefetch" href="/assets/js/801.3f3b1a72.js"><link rel="prefetch" href="/assets/js/802.6bba9432.js"><link rel="prefetch" href="/assets/js/803.cdc072e2.js"><link rel="prefetch" href="/assets/js/804.afaa4ef8.js"><link rel="prefetch" href="/assets/js/805.31e7cbc9.js"><link rel="prefetch" href="/assets/js/806.956af9a2.js"><link rel="prefetch" href="/assets/js/807.dd1d905e.js"><link rel="prefetch" href="/assets/js/808.17640070.js"><link rel="prefetch" href="/assets/js/809.a80d5c18.js"><link rel="prefetch" href="/assets/js/81.f4f9d3f8.js"><link rel="prefetch" href="/assets/js/810.c2c1694b.js"><link rel="prefetch" href="/assets/js/811.17b8cb04.js"><link rel="prefetch" href="/assets/js/812.efbdaa52.js"><link rel="prefetch" href="/assets/js/813.7871b7be.js"><link rel="prefetch" href="/assets/js/814.47dd1772.js"><link rel="prefetch" href="/assets/js/815.750828bb.js"><link rel="prefetch" href="/assets/js/816.c2991df7.js"><link rel="prefetch" href="/assets/js/817.b033a881.js"><link rel="prefetch" href="/assets/js/818.3fc87494.js"><link rel="prefetch" href="/assets/js/819.9a365c53.js"><link rel="prefetch" href="/assets/js/82.6a4b76ac.js"><link rel="prefetch" href="/assets/js/820.6488c36a.js"><link rel="prefetch" href="/assets/js/821.af55aa9f.js"><link rel="prefetch" href="/assets/js/822.f0b6ba4e.js"><link rel="prefetch" href="/assets/js/823.a7c485d6.js"><link rel="prefetch" href="/assets/js/824.d82906fd.js"><link rel="prefetch" href="/assets/js/825.5a2a92c1.js"><link rel="prefetch" href="/assets/js/826.d2693e7f.js"><link rel="prefetch" href="/assets/js/827.566447c2.js"><link rel="prefetch" href="/assets/js/828.e3810879.js"><link rel="prefetch" href="/assets/js/829.47f45b9c.js"><link rel="prefetch" href="/assets/js/83.7df98dc1.js"><link rel="prefetch" href="/assets/js/830.dd18419d.js"><link rel="prefetch" href="/assets/js/831.77df6835.js"><link rel="prefetch" href="/assets/js/832.45481637.js"><link rel="prefetch" href="/assets/js/833.bc9888e5.js"><link rel="prefetch" href="/assets/js/834.692eecba.js"><link rel="prefetch" href="/assets/js/835.e4cc3478.js"><link rel="prefetch" href="/assets/js/836.268d6a96.js"><link rel="prefetch" href="/assets/js/837.a36e646a.js"><link rel="prefetch" href="/assets/js/838.6051d8c1.js"><link rel="prefetch" href="/assets/js/839.e3617e1d.js"><link rel="prefetch" href="/assets/js/84.10693ae2.js"><link rel="prefetch" href="/assets/js/840.55f9ae9d.js"><link rel="prefetch" href="/assets/js/841.31c6948d.js"><link rel="prefetch" href="/assets/js/842.27a99c53.js"><link rel="prefetch" href="/assets/js/843.72663683.js"><link rel="prefetch" href="/assets/js/844.21c607f7.js"><link rel="prefetch" href="/assets/js/845.cdab74c2.js"><link rel="prefetch" href="/assets/js/846.9938369e.js"><link rel="prefetch" href="/assets/js/847.24f626db.js"><link rel="prefetch" href="/assets/js/848.c1b44392.js"><link rel="prefetch" href="/assets/js/849.42a9532f.js"><link rel="prefetch" href="/assets/js/85.f66e52f4.js"><link rel="prefetch" href="/assets/js/850.519c9026.js"><link rel="prefetch" href="/assets/js/851.6e8d1665.js"><link rel="prefetch" href="/assets/js/852.3cb5bc98.js"><link rel="prefetch" href="/assets/js/853.0d114e3f.js"><link rel="prefetch" href="/assets/js/854.c2799f68.js"><link rel="prefetch" href="/assets/js/855.bd6456b9.js"><link rel="prefetch" href="/assets/js/856.e2ce1b28.js"><link rel="prefetch" href="/assets/js/857.b406616d.js"><link rel="prefetch" href="/assets/js/858.d685d855.js"><link rel="prefetch" href="/assets/js/859.77cedaf0.js"><link rel="prefetch" href="/assets/js/86.7f2e16bd.js"><link rel="prefetch" href="/assets/js/860.bfc571a1.js"><link rel="prefetch" href="/assets/js/861.c3f573c9.js"><link rel="prefetch" href="/assets/js/862.c8f86eb5.js"><link rel="prefetch" href="/assets/js/863.00fd74db.js"><link rel="prefetch" href="/assets/js/864.3ffa0710.js"><link rel="prefetch" href="/assets/js/865.a0c5c32f.js"><link rel="prefetch" href="/assets/js/866.fb9f917c.js"><link rel="prefetch" href="/assets/js/867.14101e58.js"><link rel="prefetch" href="/assets/js/868.97614e26.js"><link rel="prefetch" href="/assets/js/869.09206f5d.js"><link rel="prefetch" href="/assets/js/87.8ab7a1d2.js"><link rel="prefetch" href="/assets/js/870.4efa9752.js"><link rel="prefetch" href="/assets/js/871.524f5dc4.js"><link rel="prefetch" href="/assets/js/872.4becc3f7.js"><link rel="prefetch" href="/assets/js/873.09225286.js"><link rel="prefetch" href="/assets/js/874.92873893.js"><link rel="prefetch" href="/assets/js/875.001946b6.js"><link rel="prefetch" href="/assets/js/876.b1ebbc94.js"><link rel="prefetch" href="/assets/js/877.829b905e.js"><link rel="prefetch" href="/assets/js/878.c21cae1e.js"><link rel="prefetch" href="/assets/js/879.8d22cfa3.js"><link rel="prefetch" href="/assets/js/88.998b35ee.js"><link rel="prefetch" href="/assets/js/880.1c5bd279.js"><link rel="prefetch" href="/assets/js/881.83e0eabb.js"><link rel="prefetch" href="/assets/js/882.97a3d96f.js"><link rel="prefetch" href="/assets/js/883.00f4565a.js"><link rel="prefetch" href="/assets/js/884.9127d438.js"><link rel="prefetch" href="/assets/js/885.3b072c4d.js"><link rel="prefetch" href="/assets/js/886.f11dad19.js"><link rel="prefetch" href="/assets/js/887.a6242b05.js"><link rel="prefetch" href="/assets/js/888.4dc0705d.js"><link rel="prefetch" href="/assets/js/889.6c54adad.js"><link rel="prefetch" href="/assets/js/89.d8790dc1.js"><link rel="prefetch" href="/assets/js/890.496a378e.js"><link rel="prefetch" href="/assets/js/891.6c3e2757.js"><link rel="prefetch" href="/assets/js/892.d7fc4fb8.js"><link rel="prefetch" href="/assets/js/893.7a1098eb.js"><link rel="prefetch" href="/assets/js/894.5a10eeab.js"><link rel="prefetch" href="/assets/js/895.7c1d8bb5.js"><link rel="prefetch" href="/assets/js/896.fd399178.js"><link rel="prefetch" href="/assets/js/897.462e7f1f.js"><link rel="prefetch" href="/assets/js/898.332bcec1.js"><link rel="prefetch" href="/assets/js/899.89fd6fef.js"><link rel="prefetch" href="/assets/js/9.30fd248b.js"><link rel="prefetch" href="/assets/js/90.15ed827c.js"><link rel="prefetch" href="/assets/js/900.7b10e7c1.js"><link rel="prefetch" href="/assets/js/901.622c73cc.js"><link rel="prefetch" href="/assets/js/902.4e224b72.js"><link rel="prefetch" href="/assets/js/903.ebb6e4af.js"><link rel="prefetch" href="/assets/js/904.7bf455a9.js"><link rel="prefetch" href="/assets/js/905.f7fd95de.js"><link rel="prefetch" href="/assets/js/906.9b81bd52.js"><link rel="prefetch" href="/assets/js/907.4865fadf.js"><link rel="prefetch" href="/assets/js/908.855cf7e5.js"><link rel="prefetch" href="/assets/js/909.5a030f37.js"><link rel="prefetch" href="/assets/js/91.bcba3421.js"><link rel="prefetch" href="/assets/js/910.532ad9ea.js"><link rel="prefetch" href="/assets/js/911.b6306fbb.js"><link rel="prefetch" href="/assets/js/912.ab795d25.js"><link rel="prefetch" href="/assets/js/913.7af0fc54.js"><link rel="prefetch" href="/assets/js/914.4a7887fc.js"><link rel="prefetch" href="/assets/js/915.a4218ba1.js"><link rel="prefetch" href="/assets/js/916.434ec95e.js"><link rel="prefetch" href="/assets/js/917.9c49d132.js"><link rel="prefetch" href="/assets/js/918.93a750c2.js"><link rel="prefetch" href="/assets/js/919.bc14cb6a.js"><link rel="prefetch" href="/assets/js/92.d7b4fc66.js"><link rel="prefetch" href="/assets/js/920.e93ec1c4.js"><link rel="prefetch" href="/assets/js/921.75f956a9.js"><link rel="prefetch" href="/assets/js/922.c7c112ae.js"><link rel="prefetch" href="/assets/js/923.eaf9dc91.js"><link rel="prefetch" href="/assets/js/924.ccca14a3.js"><link rel="prefetch" href="/assets/js/925.5fc63b38.js"><link rel="prefetch" href="/assets/js/926.28190e8d.js"><link rel="prefetch" href="/assets/js/927.bd8aef20.js"><link rel="prefetch" href="/assets/js/928.9d60028e.js"><link rel="prefetch" href="/assets/js/929.0e8ee7c4.js"><link rel="prefetch" href="/assets/js/93.94b46af4.js"><link rel="prefetch" href="/assets/js/930.5b9b1a0a.js"><link rel="prefetch" href="/assets/js/931.8fa5456c.js"><link rel="prefetch" href="/assets/js/932.8649851e.js"><link rel="prefetch" href="/assets/js/933.b40f4b52.js"><link rel="prefetch" href="/assets/js/934.6b7ed599.js"><link rel="prefetch" href="/assets/js/935.aae1d604.js"><link rel="prefetch" href="/assets/js/936.93757416.js"><link rel="prefetch" href="/assets/js/937.c373d6ad.js"><link rel="prefetch" href="/assets/js/938.b8835c09.js"><link rel="prefetch" href="/assets/js/939.26380de7.js"><link rel="prefetch" href="/assets/js/94.ff3fe8e7.js"><link rel="prefetch" href="/assets/js/940.45cb265a.js"><link rel="prefetch" href="/assets/js/941.a243974b.js"><link rel="prefetch" href="/assets/js/942.5500a035.js"><link rel="prefetch" href="/assets/js/943.581fbfb9.js"><link rel="prefetch" href="/assets/js/944.e507b943.js"><link rel="prefetch" href="/assets/js/945.c68363b7.js"><link rel="prefetch" href="/assets/js/946.813dfee3.js"><link rel="prefetch" href="/assets/js/95.9e62d23a.js"><link rel="prefetch" href="/assets/js/96.44debd06.js"><link rel="prefetch" href="/assets/js/97.1e3537b0.js"><link rel="prefetch" href="/assets/js/98.1e1a06d0.js"><link rel="prefetch" href="/assets/js/99.73b22e4a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d787b114.js">
    <link rel="stylesheet" href="/assets/css/0.styles.427b68cb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container init with-sidebar"><header class="navbar px-5 flex items-center navbar-box-shadow fixed top-0 fixed top-0 inset-x-0 h-16 bg-white"><div class="flex h-full items-center justify-center md:hidden"><div class="flex cursor-pointer text-xl mr-4"><i class="bx bx-menu"></i></div></div> <div class="m-0 p-0 text-xl text-normal mr-8"><a href="/" class="router-link-active"><!----> <span><strong class="font-medium"><span class='text-blue'>Ts</span>.ED</strong></span></a></div> <div class="flex-1 h-full"><nav class="font-bold hidden lg:flex h-full"><ul class="flex items-center h-full text-gray-dark"><li class="mx-1 content-wrapper py-4"><a href="/getting-started/" title="Getting started | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Getting started
      </a></li><li class="mx-1 content-wrapper py-4"><a href="/docs/configuration.html" title="Configuration | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Configuration
      </a></li><li class="mx-1 content-wrapper py-4"><a href="/docs/controllers.html" title="Documentation | Ts.ED - A Node.js and TypeScript Framework on top of Express/Koa.js." class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Documentation
      </a></li><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a title="More" class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span></span> <i class="bx bx-dots-horizontal-rounded text-lg"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><h4 class="p-0 px-4 m-1 mb-2 text-md">Plugins</h4> <ul class="dropdown-subitem-wrapper text-sm"><li class="dropdown-subitem"><a href="/tutorials/ajv.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            AJV
          </a></li><li class="dropdown-subitem"><a href="/tutorials/aws.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            AWS
          </a></li><li class="dropdown-subitem"><a href="/tutorials/passport.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Passport.js
          </a></li><li class="dropdown-subitem"><a href="/tutorials/typeorm.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            TypeORM
          </a></li><li class="dropdown-subitem"><a href="/tutorials/mongoose.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Mongoose
          </a></li><li class="dropdown-subitem"><a href="/tutorials/objection.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Objection.js
          </a></li><li class="dropdown-subitem"><a href="/tutorials/graphql.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            GraphQL
          </a></li><li class="dropdown-subitem"><a href="/tutorials/socket-io.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Socket.io
          </a></li><li class="dropdown-subitem"><a href="/tutorials/swagger.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Swagger
          </a></li><li class="dropdown-subitem"><a href="/tutorials/oidc.html" aria-current="page" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out router-link-exact-active router-link-active"><!----> 
            OIDC
          </a></li><li class="dropdown-subitem"><a href="/tutorials/stripe.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Stripe
          </a></li></ul></li><li class="mt-3"><h4 class="p-0 px-4 m-1 mb-2 text-md">Extra</h4> <ul class="dropdown-subitem-wrapper text-sm"><li class="dropdown-subitem"><a href="http://cli.tsed.io" target="_blank" rel="noopener noreferrer" class="link external block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out">
            CLI
           <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://logger.tsed.io" target="_blank" rel="noopener noreferrer" class="link external block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out">
            Logger
           <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/api.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Api reference
          </a></li><li class="dropdown-subitem"><a href="/contributing.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Contributes
          </a></li><li class="dropdown-subitem"><a href="/tutorials/licence.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            License
          </a></li></ul></li></ul></div></div></li></ul></nav></div> <div class="flex h-full"><nav class="hidden sm:flex"><ul class="flex items-center h-full text-gray-dark"><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span>v6.34.0</span> <i class="bx bx-chevron-down"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><!----> <a href="http://v4.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">v4 (obsolete)</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="mt-3"><!----> <a href="http://v5.tsed.io" target="_blank" rel="noopener noreferrer" class="link external flex items-center justify-center text-sm block opacity-75 hover:opacity-100 p-0 px-6 mt-1 mb-2 cursor-pointer transition-all"><span class="flex-1">v5 (maintenance)</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div></li></ul></nav></div> <div class="flex items-center h-full"><a title="Github" href="https://github.com/TypedProject/tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-github"></i></a><a title="Gitter" href="https://gitter.im/Tsed-io/community" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bx-message-rounded-dots"></i></a><a title="Twitter" href="https://twitter.com/TsED_io" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-twitter"></i></a><a title="StackOverflow" href="https://stackoverflow.com/search?q=tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-stack-overflow"></i></a><a title="Sponsor" href="https://tsed.io/support.html" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bxs-heart"></i></a></div> <div class="flex items-center h-full"><div id="docsearch"></div></div></header> <div class="sidebar-mask"></div> <main class="main-content relative z-2 pt-16"><div><div><div class="relative"><div class="page-header"><div class="bg-gray-lighter z-5 relative"><div class="page-header-container px-5 md:px-10 max-w-site m-auto flex items-center"><div class="flex-1"><div class="transition-all text-xl font-bold md:font-normal md:text-4xl">
          OIDC
        </div></div> <ul class="flex items-center justify-center text-md -ml-2"><li title="Share"><!----></li> <!----> <li title="View Code Github" class="p-2"><a target="_blank" href="https://github.com/TypedProject/tsed/blob/production/docs/tutorials/oidc.md" class="hover:text-blue-active"><i class="bx bx-code-alt"></i></a></li> <li title="Edit Page" class="p-2"><a target="_blank" href="https://github.com/TypedProject/tsed/edit/production/docs/tutorials/oidc.md" class="hover:text-blue-active"><i class="bx bx-edit"></i></a></li> <li title="Report a Bug" class="p-2 last:pr-0"><a target="_blank" href="https://github.com/TypedProject/tsed/issues/new?title=%5BBUG%5D%20Page%20OIDC%20-%20%2Ftutorials%2Foidc" class="hover:text-blue-active"><i class="bx bx-bug"></i></a></li></ul></div></div></div></div> <div class="px-5 md:px-10 max-w-site m-auto"><div class="page-content"><article> <div class="content__default"><h1 id="oidc"><a href="#oidc" class="header-anchor">#</a> OIDC</h1> <span class="inline-block rounded-small px-2 text-white text-sm normal-case bg-emerald" style="vertical-align:top;">alpha</span> <span class="inline-block rounded-small px-2 text-white text-sm normal-case bg-emerald" style="vertical-align:top;">Contributors are welcome</span> <div class="flex justify-center items-center"><a href="https://github.com/panva/node-oidc-provider" class="block m-auto p-5 rounded-full bg-" style="width:100px;height:100px;"><div class="h-full w-full bg-contain bg-no-repeat bg-center" style="background-image:url(https://oauth.net/images/oauth-logo-square.png);"></div> <img src="https://oauth.net/images/oauth-logo-square.png" height="100" class="hidden"></a></div> <p><a href="https://github.com/panva/node-oidc-provider" target="_blank" rel="noopener noreferrer">Oidc-provider<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is an OAuth 2.0 Authorization Server with OpenID Connect and many additional features and standards implemented.</p> <div class="custom-block tip"><p class="custom-block-title">Certification</p> <p>Filip Skokan has <a href="https://openid.net/certification/" target="_blank" rel="noopener noreferrer">certified<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> that <a href="https://github.com/panva/node-oidc-provider" target="_blank" rel="noopener noreferrer">oidc-provider<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> conforms to the following profiles of the OpenID Connect™ protocol</p> <ul><li>OP Basic, Implicit, Hybrid, Config, Dynamic, Form Post, and 3rd Party-Init</li> <li>OP Front-Channel Logout, Back-Channel Logout, RP-Initiated Logout, and Session Management</li> <li>OP FAPI R/W MTLS and Private Key</li></ul></div> <div type="examples" class="bg-gray-lighter rounded-small my-5  p-5"><div class="-m-3"><ul class="reset-list flex flex-wrap items-center"><li class="p-3"><a href="https://github.com/TypedProject/tsed-example-oidc" title="Kit OIDC" target="_blank" rel="noopener noreferrer" class="link external reset-link transition-all duration-500 ease-in-out relative flex flex-col no-underline hover:scale-110 text-xxs text-blue hover:text-blue-active"><span class="flex items-center justify-center relative z-2 overflow-hidden rounded-medium mb-2 bg-white shadow-undefined p-undefined" style="width:65px;height:65px;"><img src="https://oauth.net/images/oauth-logo-square.png" class="w-full"></span> <!----> <span class="flex items-center justify-center whitespace-pre font-undefined" style="width:65px;">Kit OIDC</span> <!----></a></li></ul></div></div> <h2 id="features"><a href="#features" class="header-anchor">#</a> Features</h2> <p>Ts.ED provides decorators and services to create an Oidc-provider with your Ts.ED application.</p> <ul><li>Create interactions policies,</li> <li>Create views,</li> <li>Use adapters to connect Oidc-provider with redis/mongo/etc...</li> <li>Create automatically jwks keys on startup</li></ul> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>Before using the <code>@tsed/oidc-provider</code> package, we need to install the <a href="https://www.npmjs.com/package/oidc-provider" target="_blank" rel="noopener noreferrer">oidc-provider<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> module.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save oidc-provider ajv
<span class="token function">npm</span> <span class="token function">install</span> --save @tsed/oidc-provider @tsed/ajv @tsed/adapters
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Then we need to follow these steps:</p> <ul><li>Configure the oidc server,</li> <li>Create the Interactions controller,</li> <li>Create our first Login interaction and views,</li> <li>Create the Accounts provider</li></ul> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>Create Oidc server with Ts.ED requires some other Ts.ED features to work properly.</p> <ul><li>Adapters to manage database connection,</li> <li>Ajv to validate</li> <li><a href="/docs/templating.html#configuration">Views</a> to display pages.</li></ul> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Env<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/core&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Configuration<span class="token punctuation">,</span> Inject<span class="token punctuation">,</span> Constant<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>FileSyncAdapter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/adapter&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/ajv&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/swagger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>OidcSecureMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PlatformApplication<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Accounts<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./services/Accounts&quot;</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token punctuation">{</span>InteractionsCtrl<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./controllers/oidc/InteractionsCtrl&quot;</span><span class="token punctuation">;</span> 

<span class="token keyword">export</span> <span class="token keyword">const</span> rootDir <span class="token operator">=</span> __dirname<span class="token punctuation">;</span>

@<span class="token function">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  httpPort<span class="token operator">:</span> <span class="token number">8081</span><span class="token punctuation">,</span>
  mount<span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string">&quot;/&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>InteractionsCtrl<span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  adapters<span class="token operator">:</span> <span class="token punctuation">{</span>
    lowdbDir<span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span>rootDir<span class="token punctuation">,</span> <span class="token string">&quot;..&quot;</span><span class="token punctuation">,</span> <span class="token string">'.db'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Adapter<span class="token operator">:</span> FileSyncAdapter
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  oidc<span class="token operator">:</span> <span class="token punctuation">{</span>
    issuer<span class="token operator">:</span> <span class="token string">&quot;http://localhost:8081&quot;</span><span class="token punctuation">,</span>
    jwksPath<span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;..&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;keys&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jwks.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Accounts<span class="token operator">:</span> Accounts<span class="token punctuation">,</span> <span class="token comment">// Injectable service to manage your accounts</span>
    clients<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// statics clients</span>
      <span class="token punctuation">{</span>
        client_id<span class="token operator">:</span> <span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span>
        client_secret<span class="token operator">:</span> <span class="token string">&quot;client_secret&quot;</span><span class="token punctuation">,</span>
        redirect_uris<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;http://localhost:8081&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        response_types<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;id_token&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        grant_types<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;implicit&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        token_endpoint_auth_method<span class="token operator">:</span> <span class="token string">&quot;none&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    claims<span class="token operator">:</span> <span class="token punctuation">{</span>
      openid<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;sub&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      email<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email_verified&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    formats<span class="token operator">:</span> <span class="token punctuation">{</span>
      AccessToken<span class="token operator">:</span> <span class="token string">&quot;jwt&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    features<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// disable the packaged interactions</span>
      devInteractions<span class="token operator">:</span> <span class="token punctuation">{</span>enabled<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      encryption<span class="token operator">:</span> <span class="token punctuation">{</span>enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      introspection<span class="token operator">:</span> <span class="token punctuation">{</span>enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      revocation<span class="token operator">:</span> <span class="token punctuation">{</span>enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  views<span class="token operator">:</span> <span class="token punctuation">{</span>
    root<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rootDir<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/views</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">{</span>
      ejs<span class="token operator">:</span> <span class="token string">&quot;ejs&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  swagger<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&quot;/v3/doc&quot;</span><span class="token punctuation">,</span>
      specVersion<span class="token operator">:</span> <span class="token string">&quot;3.0.1&quot;</span><span class="token punctuation">,</span>
      showExplorer<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Server</span> <span class="token punctuation">{</span>
  @<span class="token function">Inject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  app<span class="token operator">:</span> PlatformApplication<span class="token punctuation">;</span>
 
  @<span class="token function">Constant</span><span class="token punctuation">(</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">)</span>
  env<span class="token operator">:</span> Env<span class="token punctuation">;</span>

  <span class="token function">$beforeRoutesInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>env <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>OidcSecureMiddleware<span class="token punctuation">)</span> <span class="token comment">// ensure the https protocol</span>
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h3 id="options"><a href="#options" class="header-anchor">#</a> Options</h3> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Type<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/core&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Configuration<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>OidcAccountsMethods<span class="token punctuation">,</span> OidcClientsMethods<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">OidcSettings</span> <span class="token keyword">extends</span> <span class="token class-name">Configuration</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * Issuer URI. By default Ts.ED creates issuer with http://localhost:${httpPort}
   */</span>
  issuer<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * Path to store jwks keys.
   */</span>
  jwksPath<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * Secure keys.
   */</span>
  secureKey<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * Enable proxy.
   */</span>
  proxy<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">/**
   * Injectable service to manage accounts.
   */</span>
  Accounts<span class="token operator">?</span><span class="token operator">:</span> Type<span class="token operator">&lt;</span>OidcAccountsMethods<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>Documentation on other options properties can be found on the <a href="https://github.com/panva/node-oidc-provider/blob/master/docs/README.md" target="_blank" rel="noopener noreferrer">oidc-provider<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> documentation page.</p> <h2 id="interactions"><a href="#interactions" class="header-anchor">#</a> Interactions</h2> <p>Interactions is the User flows in Oidc provider. For example the login page is considered by Oidc-provider as an interaction.
We can define many interactions during the authentication flow, for example:</p> <ul><li>Login,</li> <li>E-mail verification,</li> <li>Password recovery,</li> <li>Sharing account data consent,</li> <li>etc.</li></ul> <p>To have a working Oidc server with Ts.ED, we need to create at least one interaction.
To begin, we have to create the <code>Interactions</code> controller which will be responsible to run all of our future
custom interactions.</p> <p>In your controllers directory, create the <code>oidc/InteractionCtrl.ts</code> file and copy the following code:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Get<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Interactions<span class="token punctuation">,</span> OidcCtx<span class="token punctuation">,</span> DefaultPolicy<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>LoginInteraction<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../interactions/LoginInteraction&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Interactions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&quot;/interaction/:uid&quot;</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    LoginInteraction <span class="token comment">// register its children interations </span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InteractionsCtrl</span> <span class="token punctuation">{</span>
  @<span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">promptInteraction</span><span class="token punctuation">(</span>@<span class="token function">OidcCtx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> oidcCtx<span class="token operator">:</span> OidcCtx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> oidcCtx<span class="token punctuation">.</span><span class="token function">runInteraction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <p>The Interactions controller exposes the routes to display any interaction. Here we expose the route GET <code>/interation/:uid</code></p> <p>The <code>uid</code> is the unique session id used by Oidc-provider to identify the current user flow.</p></div> <p>Now that we have our interactions controller, we can create our first interaction.</p> <p>Create a new directory <code>interactions</code>. We will store all custom interactions in this directory.</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>BodyParams<span class="token punctuation">,</span> Inject<span class="token punctuation">,</span> Post<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Env<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/core&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Constant<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>BadRequest<span class="token punctuation">,</span> Unauthorized<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/exceptions&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Interaction<span class="token punctuation">,</span> OidcCtx<span class="token punctuation">,</span> OidcSession<span class="token punctuation">,</span> Params<span class="token punctuation">,</span> Prompt<span class="token punctuation">,</span> Uid<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Accounts<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../services/Accounts&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Interaction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;login&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoginInteraction</span> <span class="token punctuation">{</span>
  @<span class="token function">Constant</span><span class="token punctuation">(</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">)</span>
  env<span class="token operator">:</span> Env<span class="token punctuation">;</span>

  @<span class="token function">Inject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  accounts<span class="token operator">:</span> Accounts<span class="token punctuation">;</span>

  @<span class="token function">View</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">$prompt</span><span class="token punctuation">(</span>@<span class="token function">OidcCtx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> oidcCtx<span class="token operator">:</span> OidcCtx<span class="token punctuation">,</span>
                @<span class="token function">Prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> prompt<span class="token operator">:</span> Prompt<span class="token punctuation">,</span>
                @<span class="token function">OidcSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span> session<span class="token operator">:</span> OidcSession<span class="token punctuation">,</span>
                @<span class="token function">Params</span><span class="token punctuation">(</span><span class="token punctuation">)</span> params<span class="token operator">:</span> Params<span class="token punctuation">,</span>
                @<span class="token function">Uid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> uid<span class="token operator">:</span> Uid<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">await</span> oidcCtx<span class="token punctuation">.</span><span class="token function">findClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>client<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Unauthorized</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Unknown client_id </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>client_id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">,</span>
      uid<span class="token punctuation">,</span>
      details<span class="token operator">:</span> prompt<span class="token punctuation">.</span>details<span class="token punctuation">,</span>
      params<span class="token punctuation">,</span>
      title<span class="token operator">:</span> <span class="token string">&quot;Sign-in&quot;</span><span class="token punctuation">,</span>
      flash<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>oidcCtx<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  @<span class="token function">Post</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
  @<span class="token function">View</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">submit</span><span class="token punctuation">(</span>@<span class="token function">BodyParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> payload<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
               @<span class="token function">Params</span><span class="token punctuation">(</span><span class="token punctuation">)</span> params<span class="token operator">:</span> Params<span class="token punctuation">,</span>
               @<span class="token function">Uid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> uid<span class="token operator">:</span> Uid<span class="token punctuation">,</span>
               @<span class="token function">OidcSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span> session<span class="token operator">:</span> OidcSession<span class="token punctuation">,</span>
               @<span class="token function">Prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> prompt<span class="token operator">:</span> Prompt<span class="token punctuation">,</span>
               @<span class="token function">OidcCtx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> oidcCtx<span class="token operator">:</span> OidcCtx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prompt<span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BadRequest</span><span class="token punctuation">(</span><span class="token string">&quot;Bad interaction name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">await</span> oidcCtx<span class="token punctuation">.</span><span class="token function">findClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> account <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>accounts<span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>email<span class="token punctuation">,</span> payload<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>account<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        client<span class="token punctuation">,</span>
        uid<span class="token punctuation">,</span>
        details<span class="token operator">:</span> prompt<span class="token punctuation">.</span>details<span class="token punctuation">,</span>
        params<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>params<span class="token punctuation">,</span>
          login_hint<span class="token operator">:</span> payload<span class="token punctuation">.</span>email
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">&quot;Sign-in&quot;</span><span class="token punctuation">,</span>
        flash<span class="token operator">:</span> <span class="token string">&quot;Invalid email or password.&quot;</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>oidcCtx<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> oidcCtx<span class="token punctuation">.</span><span class="token function">interactionFinished</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      login<span class="token operator">:</span> <span class="token punctuation">{</span>
        account<span class="token operator">:</span> account<span class="token punctuation">.</span>accountId
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>$prompt</code> is a special hook called by your Interactions controller.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>To start the server properly, create the Accounts class in <code>services</code> directory with the authenticate and findAccount methods:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Injectable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>AccessToken<span class="token punctuation">,</span> AuthorizationCode<span class="token punctuation">,</span> DeviceCode<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Accounts</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">findAccount</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> token<span class="token operator">:</span> AuthorizationCode <span class="token operator">|</span> AccessToken <span class="token operator">|</span> DeviceCode <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> ctx<span class="token operator">:</span> PlatformContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">async</span> <span class="token function">authenticate</span><span class="token punctuation">(</span>email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>We will implement these methods later!</p></div> <p>At this step, you can start the Oidc server and check the logs server to see if the well-known configuration
has been correctly exposed:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span><span class="token number">2021</span>-01-04T07:35:31.523<span class="token punctuation">]</span> <span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token punctuation">[</span>TSED<span class="token punctuation">]</span> - WellKnown is available on http://0.0.0.0:8081/.well-known/openid-configuration
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Try also to open the link in your browser!</p> <p>Now, we need to add the Views to display our login page. Create a views directory on root level and create the following files:</p> <div class="tabs -code -position-top text-gray-darker"><div class="tabs__header bg-gray-lighter-active"><ul class="reset-list tabs__header--ul -center"></ul></div> <div class="tabs__body  bg-gray-lighter"><!----> <!----> <!----> <!----> <!----></div></div> <p>The login page is ready to be displayed. To test it, open the following link:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://0.0.0.0:8081/auth?client_id=client_id&amp;response_type=id_token&amp;scope=openid&amp;nonce=foobar&amp;redirect_uri=http://localhost:8081
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><figure><img alt="Oidc login page" src="/assets/img/signin-page.e5cb5f7e.png" style="max-height:400px;"></figure> <h2 id="accounts"><a href="#accounts" class="header-anchor">#</a> Accounts</h2> <p>An Accounts provider can be given to the Oidc configuration. It'll be responsible to manage accounts and resolve the user authentication.</p> <p>Copy the following code in the <code>Accounts.ts</code> file:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Adapter<span class="token punctuation">,</span> InjectAdapter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/adapters&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PlatformContext<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Injectable<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>deserialize<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/json-mapper&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>AccessToken<span class="token punctuation">,</span> AuthorizationCode<span class="token punctuation">,</span> DeviceCode<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Account<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../models/Account&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Accounts</span> <span class="token punctuation">{</span>
  @<span class="token function">InjectAdapter</span><span class="token punctuation">(</span><span class="token string">&quot;Accounts&quot;</span><span class="token punctuation">,</span> Account<span class="token punctuation">)</span>
  adapter<span class="token operator">:</span> Adapter<span class="token operator">&lt;</span>Account<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  <span class="token keyword">async</span> <span class="token function">$onInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> accounts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adapter<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// We create a default account if the database is empty</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>accounts<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adapter<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        email<span class="token operator">:</span> <span class="token string">&quot;test@test.com&quot;</span><span class="token punctuation">,</span>
        emailVerified<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>useAlias<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">findAccount</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> token<span class="token operator">:</span> AuthorizationCode <span class="token operator">|</span> AccessToken <span class="token operator">|</span> DeviceCode <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> ctx<span class="token operator">:</span> PlatformContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adapter<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">authenticate</span><span class="token punctuation">(</span>email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adapter<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>We use the <code>$onInit</code> hook to create the first account automatically. You can adapt the script to your needs.</p></div> <p>Then, create the Account model:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Email<span class="token punctuation">,</span> Name<span class="token punctuation">,</span> Property<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/schema&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Account</span> <span class="token punctuation">{</span>
  @<span class="token function">Name</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Email</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  @<span class="token function">Property</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">Name</span><span class="token punctuation">(</span><span class="token string">&quot;email_verified&quot;</span><span class="token punctuation">)</span>
  emailVerified<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

  <span class="token keyword">get</span> <span class="token function">accountId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">claims</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      sub<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_id<span class="token punctuation">,</span>
      email<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>
      email_verified<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>emailVerified
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Claims method is used by Oidc to expose this information in the userInfo endpoint.</p></div> <h2 id="alter-oidc-policy"><a href="#alter-oidc-policy" class="header-anchor">#</a> Alter Oidc policy</h2> <p>Ts.ED emits a special <code>$alterOidcPolicy</code> event when @tsed/oidc-provider links interactions with Oidc policy. You can change the policy configuration
by adding <code>$alterOidcPolicy</code> on InteractionsCtrl:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Get<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Interactions<span class="token punctuation">,</span> OidcCtx<span class="token punctuation">,</span> DefaultPolicy<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>LoginInteraction<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../interactions/LoginInteraction&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Interactions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&quot;/interaction/:uid&quot;</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    LoginInteraction <span class="token comment">// register its children interations </span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InteractionsCtrl</span> <span class="token punctuation">{</span>
  @<span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">promptInteraction</span><span class="token punctuation">(</span>@<span class="token function">OidcCtx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> oidcCtx<span class="token operator">:</span> OidcCtx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> oidcCtx<span class="token punctuation">.</span><span class="token function">runInteraction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">$alterOidcPolicy</span><span class="token punctuation">(</span>policy<span class="token operator">:</span> DefaultPolicy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something</span>
   
    <span class="token keyword">return</span> policy
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="remove-consent-interaction"><a href="#remove-consent-interaction" class="header-anchor">#</a> Remove consent interaction</h2> <p>Sometimes with your provider you don't need a consent screen. This use-case might occur if your provider has only first-party clients configured. To achieve that, you need to remove consent interaction from provider policy configuration:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Get<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Interactions<span class="token punctuation">,</span> OidcCtx<span class="token punctuation">,</span> DefaultPolicy<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>LoginInteraction<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../interactions/LoginInteraction&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Interactions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&quot;/interaction/:uid&quot;</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    LoginInteraction <span class="token comment">// register its children interations </span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InteractionsCtrl</span> <span class="token punctuation">{</span>
  @<span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">promptInteraction</span><span class="token punctuation">(</span>@<span class="token function">OidcCtx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> oidcCtx<span class="token operator">:</span> OidcCtx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> oidcCtx<span class="token punctuation">.</span><span class="token function">runInteraction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">$alterOidcPolicy</span><span class="token punctuation">(</span>policy<span class="token operator">:</span> DefaultPolicy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    policy<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;consent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
    <span class="token keyword">return</span> policy
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Additionally, if you do remove consent prompt, you will get an error when your RPs try to request scopes other than <code>openid</code> and <code>offline_access</code>. In order to accommodate those usecases, you need to provide accepted property in interaction results whenever <code>interactionFinished</code> is called.</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>BodyParams<span class="token punctuation">,</span> Inject<span class="token punctuation">,</span> Post<span class="token punctuation">,</span> View<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/common&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Env<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/core&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Constant<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/di&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>BadRequest<span class="token punctuation">,</span> Unauthorized<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/exceptions&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Interaction<span class="token punctuation">,</span> OidcCtx<span class="token punctuation">,</span> OidcSession<span class="token punctuation">,</span> Params<span class="token punctuation">,</span> Prompt<span class="token punctuation">,</span> Uid<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/oidc-provider&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Accounts<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../services/Accounts&quot;</span><span class="token punctuation">;</span>

@<span class="token function">Interaction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;login&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoginInteraction</span> <span class="token punctuation">{</span>
  @<span class="token function">Constant</span><span class="token punctuation">(</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">)</span>
  env<span class="token operator">:</span> Env<span class="token punctuation">;</span>

  @<span class="token function">Inject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  accounts<span class="token operator">:</span> Accounts<span class="token punctuation">;</span>

  @<span class="token function">Post</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
  @<span class="token function">View</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">async</span> <span class="token function">submit</span><span class="token punctuation">(</span>@<span class="token function">BodyParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> payload<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
               @<span class="token function">Params</span><span class="token punctuation">(</span><span class="token punctuation">)</span> params<span class="token operator">:</span> Params<span class="token punctuation">,</span>
               @<span class="token function">Uid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> uid<span class="token operator">:</span> Uid<span class="token punctuation">,</span>
               @<span class="token function">OidcSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span> session<span class="token operator">:</span> OidcSession<span class="token punctuation">,</span>
               @<span class="token function">Prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> prompt<span class="token operator">:</span> Prompt<span class="token punctuation">,</span>
               @<span class="token function">OidcCtx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> oidcCtx<span class="token operator">:</span> OidcCtx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// rest of your code...</span>
    
    <span class="token keyword">return</span> oidcCtx<span class="token punctuation">.</span><span class="token function">interactionFinished</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      login<span class="token operator">:</span> <span class="token punctuation">{</span>
        account<span class="token operator">:</span> account<span class="token punctuation">.</span>accountId
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      consent<span class="token operator">:</span> <span class="token punctuation">{</span> 
        rejectedScopes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// array of strings representing rejected scopes, see below</span>
        rejectedClaims<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// array of strings representing rejected claims, see below</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>You should also provide <code>rejectedScopes</code> and <code>rejectedClaims</code> in <code>consent</code> object in order to prevent scopes/claims being exposed to clients you don't want to be exposed to.</p></div> <h2 id="support-oidc-provider"><a href="#support-oidc-provider" class="header-anchor">#</a> Support Oidc-provider</h2> <p>If you or your business uses <a href="https://github.com/panva/node-oidc-provider" target="_blank" rel="noopener noreferrer">oidc-provider<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, please consider becoming a sponsor, so we can continue maintaining it and adding new features carefree.</p> <h2 id="author"><a href="#author" class="header-anchor">#</a> Author</h2> <div class="-m-2 mb-5"><ul class="reset-list flex flex-wrap items-center"></ul></div> <h2 id="maintainers"><a href="#maintainers" class="header-anchor">#</a> Maintainers</h2> <div class="-m-2 mb-5"><ul class="reset-list flex flex-wrap items-center"></ul></div> <div class="flex items-center justify-center p-5"><div class="rounded-medium inline-flex flex-col items-stretch overflow-hidden text-base transition-colors
  bg-blue border-blue text-white-button focus:bg-blue-active focus:border-blue-active
  hover:bg-blue-active hover:border-blue-active focus:text-white-button-active hover:text-white-button-active
   cursor-pointer border-1 border-solid rounded-small shadow-none"><a href="/contributing.html" title="" class="link internal reset-link flex justify-center items-center w-full font-bold px-4 py-1"><!----> <span class="m-1 text-center flex justify-center items-center">
 Become maintainer
</span></a></div></div></div> </article> <div class="pt-5"><div class="py-5 flex justify-end text-sm"><p><span class="font-bold pr-1">Last Updated:</span> <span class="time">3/16/2021, 6:33:58 PM</span></p></div> <div class="page-nav pt-5 mb-10"><div class="flex align-center justify-between overflow-hidden"><span class="flex align-center justify-center"><a href="/tutorials/aws.html" class="p-2 pr-3 transition duration-500 ease-in-out hover:bg-white-active rounded-small hover:text-white text-md font-medium flex items-center justify-between"><i class="bx bx-chevron-left"></i> <span>
            AWS
          </span></a></span> <span class="flex align-center justify-center"><a href="/tutorials/stripe.html" class="p-2 pl-3 transition duration-500 ease-in-out hover:bg-white-active rounded-small hover:text-white text-md font-medium flex items-center justify-between"><span>
            Stripe
          </span> <i class="bx bx-chevron-right"></i></a></span></div></div></div> <section slot="page-bottom" class="other-topics px-3"><h4 class="text-xl mb-4 mt-2 font-semibold">
            Other topics
          </h4> <ul class="flex justify-start flex-wrap -mx-1"><li class="p-1"><a href="/tutorials/session.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Session &amp; cookies
      </a></li><li class="p-1"><a href="/tutorials/passport.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Passport.js
      </a></li><li class="p-1"><a href="/tutorials/typeorm.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">TypeORM
      </a></li><li class="p-1"><a href="/tutorials/mongoose.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Mongoose
      </a></li><li class="p-1"><a href="/tutorials/graphql.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">GraphQL
      </a></li><li class="p-1"><a href="/tutorials/socket-io.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Socket.io
      </a></li><li class="p-1"><a href="/tutorials/swagger.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Swagger
      </a></li><li class="p-1"><a href="/tutorials/ajv.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">AJV
      </a></li><li class="p-1"><a href="/tutorials/multer.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Multer
      </a></li><li class="p-1"><a href="/tutorials/serve-static-files.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Serve static files
      </a></li><li class="p-1"><a href="/tutorials/templating.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Templating
      </a></li><li class="p-1"><a href="/tutorials/throw-http-exceptions.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Throw HTTP Exceptions
      </a></li><li class="p-1"><a href="/tutorials/not-found-page.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Customize 404
      </a></li><li class="p-1"><a href="/tutorials/aws.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">AWS
      </a></li><li class="p-1"><a href="/tutorials/seq.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Seq
      </a></li><li class="p-1"><a href="/tutorials/oidc.html" aria-current="page" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white router-link-exact-active router-link-active">OIDC
      </a></li><li class="p-1"><a href="/tutorials/stripe.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Stripe
      </a></li><li class="p-1"><a href="/docs/controllers.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Controllers
      </a></li><li class="p-1"><a href="/docs/providers.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Providers
      </a></li><li class="p-1"><a href="/docs/model.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Model
      </a></li><li class="p-1"><a href="/docs/converters.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">JsonMapper
      </a></li><li class="p-1"><a href="/docs/middlewares.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Middlewares
      </a></li><li class="p-1"><a href="/docs/pipes.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Pipes
      </a></li><li class="p-1"><a href="/docs/interceptors.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Interceptors
      </a></li><li class="p-1"><a href="/docs/authentication.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Authentication
      </a></li><li class="p-1"><a href="/docs/hooks.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Hooks
      </a></li><li class="p-1"><a href="/docs/exceptions.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Exceptions
      </a></li><li class="p-1"><a href="/docs/cache.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Cache
      </a></li><li class="p-1"><a href="/docs/hooks.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Hooks
      </a></li><li class="p-1"><a href="/docs/response-filter.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Response Filter
      </a></li><li class="p-1"><a href="/docs/injection-scopes.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Injection scopes
      </a></li><li class="p-1"><a href="/docs/custom-providers.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Custom providers
      </a></li><li class="p-1"><a href="/docs/custom-endpoint-decorators.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Custom endpoint decorator
      </a></li><li class="p-1"><a href="/docs/testing.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Testing
      </a></li></ul> </section></div></div> <aside class="page-sidebar fixed"> <ul class="page-sidebar-sub-headers"><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#features" class="page-sidebar-link ">Features</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#installation" class="page-sidebar-link ">Installation</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#configuration" class="page-sidebar-link ">Configuration</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#interactions" class="page-sidebar-link ">Interactions</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#accounts" class="page-sidebar-link ">Accounts</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#alter-oidc-policy" class="page-sidebar-link ">Alter Oidc policy</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#remove-consent-interaction" class="page-sidebar-link ">Remove consent interaction</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#support-oidc-provider" class="page-sidebar-link ">Support Oidc-provider</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#author" class="page-sidebar-link ">Author</a></li><li class="page-sidebar-sub-header"><a href="/tutorials/oidc.html#maintainers" class="page-sidebar-link ">Maintainers</a></li></ul> </aside></div></div></main> <aside class="sidebar -translate-x-100 md:shadow-sidebar md:translate-x-0"> <ul class="reset-list py-5"><li><div class="mb-2"><a href="/getting-started/" class="sidebar-link relative block py-2 font-bold text-gray-darker text-md px-5">Introduction</a></div></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Getting started</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Migration</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Documentation</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Advanced</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1 open"><span class="flex-1">Plugins</span> <i class="bx bx-chevron-down text-xl transition-all"></i></p> <ul><li><a href="/tutorials/passport.html" class="sidebar-link relative block py-2 pl-7">Passport.js</a></li><li><a href="/tutorials/typeorm.html" class="sidebar-link relative block py-2 pl-7">TypeORM</a></li><li><a href="/tutorials/mongoose.html" class="sidebar-link relative block py-2 pl-7">Mongoose</a></li><li><a href="/tutorials/graphql.html" class="sidebar-link relative block py-2 pl-7">GraphQL</a></li><li><a href="/tutorials/socket-io.html" class="sidebar-link relative block py-2 pl-7">Socket.io</a></li><li><a href="/tutorials/seq.html" class="sidebar-link relative block py-2 pl-7">Seq logger</a></li><li><a href="/tutorials/swagger.html" class="sidebar-link relative block py-2 pl-7">Swagger</a></li><li><a href="/tutorials/ajv.html" class="sidebar-link relative block py-2 pl-7">AJV</a></li><li><a href="/tutorials/aws.html" class="sidebar-link relative block py-2 pl-7">AWS</a></li><li><a href="/tutorials/oidc.html" aria-current="page" class="active sidebar-link relative block py-2 pl-7">OIDC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#features" class="sidebar-link relative block py-2 ">Features</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#installation" class="sidebar-link relative block py-2 ">Installation</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#configuration" class="sidebar-link relative block py-2 ">Configuration</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#interactions" class="sidebar-link relative block py-2 ">Interactions</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#accounts" class="sidebar-link relative block py-2 ">Accounts</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#alter-oidc-policy" class="sidebar-link relative block py-2 ">Alter Oidc policy</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#remove-consent-interaction" class="sidebar-link relative block py-2 ">Remove consent interaction</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#support-oidc-provider" class="sidebar-link relative block py-2 ">Support Oidc-provider</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#author" class="sidebar-link relative block py-2 ">Author</a></li><li class="sidebar-sub-header"><a href="/tutorials/oidc.html#maintainers" class="sidebar-link relative block py-2 ">Maintainers</a></li></ul></li><li><a href="/tutorials/stripe.html" class="sidebar-link relative block py-2 pl-7">Stripe</a></li></ul></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Extras</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li></ul> </aside> <footer><div class="px-5 md:px-10 max-w-site m-auto"><div class="page-content py-5"><div class="flex items-center"><div class="flex-1"><h4 class="text-xl mb-4 mt-2 px-2 font-semibold">Support us</h4> <div class="content__default"><p>
            Ts.ED is an MIT-licensed open source project. It can grow thanks to the support by the
            community. If
            you'd like to join them, please read more <a href="/support.html">here</a>.
          </p> <div class="flex items-center justify-center pt-5 mt-5 mb-5"><div class="inline-flex flex-col items-stretch overflow-hidden text-base transition-colors
  bg-white-button border-blue text-blue focus:bg-white-button-active focus:border-blue-active
  hover:bg-white-button-active hover:border-blue-active focus:text-blue-active hover:text-blue-active
   cursor-pointer border-1 border-solid rounded-medium shadow-none"><a href="https://tsed.io/support.html" title="" target="_blank" rel="noopener noreferrer" class="link external reset-link flex justify-center items-center w-full font-bold px-4 py-1"><span class="m-1 text-center flex justify-center items-center">
              Become sponsor
            </span> <!----></a></div></div></div></div></div></div></div>  <div class="px-5 md:px-10  m-auto bg-code-active relative"><div class="pt-5 pb-8 text-center text-white"><div class="flex items-center"><div class="flex-1 flex items-center justify-center"><a title="Github" href="https://github.com/TypedProject/tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-github"></i></a><a title="Gitter" href="https://gitter.im/Tsed-io/community" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center text-xl py-4 mx-2"><i class="bx bx-message-rounded-dots"></i></a><a title="Twitter" href="https://twitter.com/TsED_io" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-twitter"></i></a><a title="StackOverflow" href="https://stackoverflow.com/search?q=tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-stack-overflow"></i></a></div> <div class="absolute top-0 right-0 pt-5 pr-8 sm:p-10"><div class="relative inline-flex w-auto"><!----> <span class="text-xs py-1 px-2 absolute right-0 rounded-medium rounded-bl-small bg-white text-blue" style="top:-12px;right:-28px;">0</span></div></div></div> <div class="text-sm">
        Copyright © 2016-2021 <a href="/license.html" class="text-blue font-bold hover:text-blue-active">MIT License</a> <span class="inline-block text-gray-light px-1">|</span> By
        Lenzotti Romain
      </div></div></div> </footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f8b85689.js" defer></script><script src="/assets/js/4.1643dd8a.js" defer></script><script src="/assets/js/14.cb360b7c.js" defer></script>
  </body>
</html>
